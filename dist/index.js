/*!Sea.js 2.2.3|https://github.com/seajs/seajs/blob/master/LICENSE.md*/
((e,t)=>{if(e.seajs)return;let i=e.seajs={},s=i.data={},a=e=>t=>({}.toString.call(t)==`[object ${e}]`),l=a("String"),d=Array.isArray,o=a("Function"),p=0,r=()=>p++,n=/[^?#]*\//,c=/\/\.\//g,h=/\/[^/]+\/\.\.\//,g=/([^:/])\/\//g,_=e=>e.match(n)[0],x=/^([^/:]+)(\/.+)$/,u=/^\/\/.|:\//,m=/^.*?\/\/.*?\//,f=(e,t)=>{let i,a=e.charAt(0);if(u.test(e))i=e;else if("."===a)i=(e=>{for(e=e.replace(c,"/");e.match(h);)e=e.replace(h,"/");return e.replace(g,"$1/")})((t?_(t):s.cwd)+e);else if("/"===a){let t=s.cwd.match(m);i=t?t[0]+e.substring(1):e}else i=s.base+e;return 0===i.indexOf("//")&&(i=location.protocol+i),i},b=(e,t)=>{if(!e)return"";return e=(e=>{let t=e.length-1,i=e.charAt(t);return"#"===i?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||".css"===e.substring(t-3)||"/"===i?e:e+".js"})(e=(e=>{let t,i=s.paths;return i&&(t=e.match(x))&&l(i[t[1]])&&(e=i[t[1]]+t[2]),e})(e=(e=>{let t=s.alias;return t&&l(t[e])?t[e]:e})(e))),f(e,t)},y=document,k=_(y.URL),w=y.scripts,v=w[w.length-1],S=_(((j=v).hasAttribute?j.src:j.getAttribute("src",4))||k);var j;let z,T,Y,I=y.head,L=I.getElementsByTagName("base")[0],X=/\.css(?:\?|$)/i,A=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536,F=(e,t,i)=>{let a="onload"in e;if(i&&(A||!a))return void setTimeout((()=>{C(e,t)}),1);let l=()=>{e.onload=e.onerror=e.onreadystatechange=null,i||s.debug||I.removeChild(e),e=null,t()};a?(e.onload=l,e.onerror=l):e.onreadystatechange=()=>{/loaded|complete/.test(e.readyState)&&l()}},C=(e,t)=>{let i,s=e.sheet;if(A)s&&(i=!0);else if(s)try{s.cssRules&&(i=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(i=!0)}setTimeout((()=>{i?t():C(e,t)}),20)},V=()=>{if(z)return z;if(T&&"interactive"===T.readyState)return T;let e=I.getElementsByTagName("script");for(let t=e.length;t--;){let i=e[t];if("interactive"===i.readyState)return T=i,T}},N=i.cache={},H={},M={},O={},K=1,B=2,W=3,$=4,J=5,E=6;function Z(e,t){this.uri=e,this._cM=t||[],this.exports=null,this.status=0,this._cN={},this._cO=0}Z.prototype.resolve=function(){let e=this,t=e._cM,i=[];for(let s=0,a=t.length;s<a;s++)i[s]=b(t[s],e.uri);return i},Z.prototype.load=function(){let e=this;if(e.status>=W)return;e.status=W;let t,i=e.resolve(),s=e._cO=i.length;for(let a=0;a<s;a++)t=Z.get(i[a]),t.status<$?t._cN[e.uri]=(t._cN[e.uri]||0)+1:e._cO--;if(0===e._cO)return void e.onload();let a={};for(let e=0;e<s;e++)t=N[i[e]],t.status<K?t.fetch(a):t.status===B&&t.load();for(let e in a)a.hasOwnProperty(e)&&a[e]()},Z.prototype.onload=function(){let e=this;e.status=$,e._cP&&e._cP();let t,i,s=e._cN;for(t in s)s.hasOwnProperty(t)&&(i=N[t],i._cO-=s[t],0===i._cO&&i.onload());delete e._cN,delete e._cO},Z.prototype.fetch=function(e){let t=this,i=t.uri;if(t.status=K,!i||M[i])return void t.load();if(H[i])return void O[i].push(t);H[i]=!0,O[i]=[t];let a=()=>{delete H[i],M[i]=!0,Y&&(Z.save(i,Y),Y=null);let e,t=O[i];for(delete O[i];e=t.shift();)e.load()},l=()=>{((e,t,i,s)=>{let a=X.test(e),l=y.createElement(a?"link":"script");i&&(l.charset=i),null!=s&&l.setAttribute("crossorigin",s),F(l,t,a,e),a?(l.rel="stylesheet",l.href=e):(l.async=!0,l.src=e),z=l,L?I.insertBefore(l,L):I.appendChild(l),z=null})(i,a,s.charset,s.crossorigin)};e?e[i]=l:l()},Z.prototype.exec=function(){let e=this;if(e.status>=J)return e.exports;e.status=J;let i=e.uri,s=e=>Z.get(s.resolve(e)).exec();s.resolve=e=>b(e,i),s.async=(e,t)=>(Z.use(e,t,i+"__cQ_"+r()),s);let a=e.factory,l=o(a)?a(s,e.exports={},e):a;return l===t&&(l=e.exports),delete e.factory,e.exports=l,e.status=E,l},Z.define=function(e,i,s){let a=arguments.length;1===a?(s=e,e=t):2===a&&(s=i,d(e)?(i=e,e=t):i=t),!d(i)&&o(s)&&(i=[]);let l={id:e,uri:b(e),deps:i,factory:s};if(!l.uri&&y.attachEvent){let e=V();e&&(l.uri=e.src)}l.uri?Z.save(l.uri,l):Y=l},Z.save=(e,t)=>{let i=Z.get(e);i.status<B&&(i.id=t.id||e,i._cM=t.deps||[],i.factory=t.factory,i.status=B)},Z.get=(e,t)=>N[e]||(N[e]=new Z(e,t)),Z.use=(t,i,s)=>{let a=Z.get(s,d(t)?t:[t]);a._cP=()=>{let t=[],s=a.resolve();for(let e=0,i=s.length;e<i;e++)t[e]=N[s[e]].exec();i&&i.apply(e,t),delete a._cP},a.load()},i.use=(e,t)=>{Z.use(e,t,s.cwd+"__cz_"+r())},e.define=Z.define,i.require=e=>{let t=Z.get(b(e));return t.status<J&&(t.onload(),t.exec()),t.exports},s.base=S,s.cwd=k,s.charset="utf-8",i.config=e=>{for(let t in e){let i=e[t];s[t]=i}return i}})(window),(e=>{window.define?define("magix5",e):window.Magix=e()})((()=>{let e,t=0,i="",s=[],a=null,l=window,d=Promise,o=document,p=l.setTimeout,r=encodeURIComponent,n="_";function c(){}let h,g=JSON.stringify,_=o.head,x=l.performance,u=x.now.bind(x),m="\x1e",f="mx5-",b="mx5-view",y="mx5-owner",k=e=>(e||n)+t++,w=e=>o.getElementById(e),v=(e,t)=>e.innerHTML=t,S=e=>e[0]==m,j={},z={rootId:k(),wait:c,error(e){throw e}},T=e=>!e||"object"!=typeof e,Y=(e,t,i)=>{if(e&&t&&!(i=e==t))try{i=16==(16&t.compareDocumentPosition(e))}catch(e){}return i},I=e=>{e["\x1e_"]=0},{assign:L,keys:X,hasOwnProperty:A,prototype:F}=Object,C=F.toString,V=e=>C.call(e).slice(8,-1),N=e=>"Object"==V(e),H=Array.isArray,M=_.getAttribute,O=(e,t)=>M.call(e,t),K=(e,t,i)=>{t&&!K[e]&&(K[e]=1,i=o.createElement("style"),v(i,t),_.appendChild(i))},B=(e,t,i,s)=>{try{s=H(t)?e.apply(i,t):e.call(i,t)}catch(e){z.error(e)}return s},W=(e,t)=>e&&A.call(e,t),$=(e,t)=>{let s,a;if(T(t))s=t+i,S(s)&&(t=e.get(s));else for(s in t)a=t[s],a=$(e,a),t[s]=a;return t},J=(e,t)=>t._-e._;function E(e,t,i){(i=this)._=[],i.a=t||20,i.b=i.a+(e||50)}L(E.prototype,{get(e){let t=this._[m+e];return t&&(t._++,t=t.a),t},set(e,t){let i=this,s=i._,a=m+e,l=s[a],d=i.a;if(!l){if(s.length>i.b)for(s.sort(J);d--;)l=s.pop(),l._&&i.del(l.b);l={b:e},s.push(l),s[a]=l}l.a=t,l._=1},del(e){e=m+e;let t=this._,s=t[e];s&&(s._=0,s.a=i,delete t[e])},has(e){return W(this._,m+e)}});let Z,R,D,P,q,U,G={bubbles:!0,cancelable:!0},Q=[],ee=(e,t,i,s)=>e.addEventListener(t,i,s),te=(e,t,i,s)=>e.removeEventListener(t,i,s),ie=(e,t,i,s,a,l)=>{let d={_:a,a:i,b:t,c:e,d(e){a?B(i,e,l):i(e)}};Q.push(d),ee(e,t,d.d,s)},se=(e,t,i,s,a)=>{for(let l,d=Q.length;d--;)if(l=Q[d],l.b==t&&l._==a&&l.c==e&&l.a===i){Q.splice(d,1),te(e,t,l.d,s);break}},ae=new E,le=(e,t=1,i)=>(t&&ae.has(e)?i=ae.get(e):(i=B(Function(`return ${e}`)),t&&ae.set(e,i)),i),de=decodeURIComponent,oe=new E,pe=e=>{let t,s,a,l,d,o,p=oe.get(e);if(!p){if(l={},d=e.indexOf("?"),-1==d?(t=e,o=i):(t=e.substring(0,d),o=e.substring(d+1)),o)for(d of o.split("&"))[s,a=i]=d.split("="),l[de(s)]=S(a)?a:de(a);oe.set(e,p={a:t,b:l})}return{path:p.a,params:L({},p.b)}},re=new E,ne=(e,t,i)=>(re.has(e)?i=re.get(e):(i=le(e,0),e.includes(m)?$(t,i):re.set(e,i)),i),ce=navigator.scheduling,he=()=>{let e,t,i,s=u()+9,l=z.wait;for(;;){if(!R){q=Z=a,0!=U&&l(U=0);break}if(P==R&&(P=a),D=R,i=R._,e=R.a,t=R.b,B(t,e,i),R=R.c,D=a,R&&(u()>s||ce&&ce.isInputPending())){1!=U&&l(U=1),p(he);break}}},ge=(e,t,i,s,a)=>{a={b:e,_:i,a:t},s?(q?q.c=a:R=a,q=a):((s=P||D)?(a.c=s.c,s.c=a,q==s&&(q=a)):R?(a.c=R,R=a):R=q=a,P=a),Z||(Z=1,p(he))},_e=(e,t,i)=>{ge(e,t,i,1)},xe=(e,t)=>{if(e){let i=[];seajs.use(e,((...e)=>{for(let t of e)i.push((s=t).__esModule||window.Symbol&&"Module"===s[Symbol.toStringTag]?t.default:t);var s;ge(t,i)}))}else ge(t)},ue=(e,t,i,s)=>(c.prototype=t.prototype,s=new c,L(s,i),s.constructor=e,e.prototype=s,e),me=e=>e;let fe,be,ye={fire(e,t){let i,s,l=this,d=l[m+e],o=0;if(t||(t={}),t.type=e,d)for(i=d.length;o<i;o++)s=d[o],s._&&(s.a=1,B(s._,t,l),s._||(d.splice(o--,1),i--),s.a=a)},on(e,t,i=0){let s,a,l,d=m+e,o=this[d]||(this[d]=[]),p={_:t,b:i};for(l=0,a=o.length;l<a;l++)if(o[l].b<i){o.splice(l,0,p),s=1;break}s||o.push(p)},off(e,t){let i,s=m+e,l=this,d=l[s];if(t){if(d&&(i=d.length))for(;i--;)if(s=d[i],s._==t){s.a?s._=a:d.splice(i,1);break}}else l[s]=a}},ke={},we=(e,t,i,s)=>{t.includes(m)&&(s=ke[e])&&$(s._,i)},ve=(e,t,i,s,a,l,d)=>{for(t=e.b,a=e.c;t.length;)[i,d,s]=t.shift(),ge(s,(l=a[i])&&B(l,d,a))},Se=(e,t,i)=>{let s,a,l;for(s in e.a)t?(a=ke[s],l=a&&Y(a.root,t)&&(!i||a.root!=t)):l=1,l&&e.unmount(s,l)},je=e=>{let{c:t,b:i,root:s}=e;i.length=0,t&&(e.c=0,t._&&(t._=0,I(t),Se(e),t.fire("destroy"),bt(t,1),s&&e.d&&v(s,e.e))),e.f++},ze=(e,t,i)=>{let s,a,l,d,o,{id:p,root:r}=e;!e.d&&r&&(e.d=1,e.e=r.innerHTML),je(e),r&&t&&(s=pe(t),l=s.path,e.path=t,d=s.params,o=O(r,y),we(o,t,d),e.g=l,L(d,i),a=e.f,xe(l,(t=>{a==e.f&&(t?(jt(t),l=new t(p,r,e,d),e.c=l,bt(l),B(l.init,d,l),B(l.e,[d,e.e],l),l.f(),l.g||l.h||ft(l)):z.error(Error(`${p} cannot load:${l}`)))})))},Te=e=>e.a||(e.a=k(be));function Ye(e,t){let i=this,s=Te(e);var a,l;i.id=s,i.root=e,i.f=1,i.a={},i.pId=t,i.b=[],i._=new Map,l=i,W(ke,a=s)||(ke[a]=l)}L(Ye,{root:()=>fe,all:()=>ke,byId:e=>ke[e],byNode:e=>ke[e.a]}),L(Ye.prototype,{mount(e,t,i){let s,a=this,l=a.id,d=a.a,o=Te(e);return s=ke[o],s||(W(d,o)||(a.h=0),d[o]=o,s=new Ye(e,l)),ze(s,t,i),s},unmount(e,t){let i,s;var l,d,o;e=e?this.a[t?e:e.a]:this.id,i=ke[e],i&&(s=i.pId,je(i),(d=ke[l=e])&&(delete ke[l],(o=d.root)._=0,o.a=0,d.id=d.root=d.pId=d.a=a),i=ke[s],i&&W(i.a,e)&&(delete i.a[e],i.h=0))},children(){return this.h||(this.h=X(this.a))},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=ke[t.pId];return t},invoke(e,t){let i,s,a=this,l=a.b;return new d((d=>{(i=a.c)&&i.h?d((s=i[e])&&B(s,t,i)):l.push([e,t,d])}))}});let Ie=new E,Le=/^([\w\-]+)\x1e(\d+)?(\x1e)?([^(]+)\(([\s\S]*?)\)$/,Xe={},Ae={},Fe={},Ce={},Ve={},Ne={capture:!0},He={passive:!1},Me={passive:!1,capture:!0},Oe=(e,t)=>{let l,d,o,p,r,n,c,g,_,x=[],u=e,m=O(e,f+t);if(m&&(r=Ie.get(m),r||(r=m.match(Le)||s,r={v:r[1],b:0|r[2],t:r[3],n:r[4],i:r[5]},Ie.set(m,r)),r=L({},r)),r&&!r.v||Ve[t]){if(g=u.b,g==a){for(c=[u];u!=h&&(u=u.parentNode);){if(ke[d=u.a]||(d=u.b)){g=d;break}c.push(u)}for(m of c)m.b=g||i}if(u=e.a,ke[u]&&(_=g=u),g)do{if(l=ke[g],l&&(n=l.c)){if(o=n.i,p=o[t],p)for(u=p.length;u--;)d=p[u],o={r:d,v:g,n:d},d?!_&&e.matches(d)&&x.push(o):_&&x.push(o);if(n.g&&!_)break;_=0}}while(l&&(g=l.pId))}return r&&x.push(r),x},Ke=e=>{let t,i,s,a,l,d,o,p,{target:r,type:n}=e,c=[];for(;r&&r!=h&&!e.cancelBubble&&(!(i=r.c)||!i[n]);){if(p=1,r.nodeType==p){if(t=Oe(r,n),t.length)for(d of(c.length=0,t)){let{v:t,n:i,i:c,t:h,b:g}=d;0,s=ke[t],a=s&&s.c,a&&a.h&&a._&&(l=i+m+n,d=a[l],d&&(e.eventTarget=r,o=c?ne(c,s._):j,e.params=o,B(d,e,a)),r==a.root||a.i[n]||(h?p=g||p:(r=a.root,p=0)))}else c.push(r);p&&(s=r.a,s&&(s=ke[s],a=s&&s.c,a&&a.j[n]&&(c.length=0)))}for(;p--;)r=r.parentNode}for(r of c)i=r.c||(r.c={}),i[n]=1},Be=(e,t,i,s)=>{let a=0|Xe[e],l=0|Fe[e],d=0|Ce[e],o=i?-1:1,p=i?se:ie;4&s&&(l+=o,Fe[e]=l),8&s&&(d+=o,Ce[e]=d);let r,n=Ae[e];l&&d?r=Me:l?r=He:d&&(r=Ne),a&&i!==a?r!=n&&(se(h,e,Ke,n),ie(h,e,Ke,r)):p(h,e,Ke,i?n:r),Ae[e]=r,Xe[e]=a+o,t&&(Ve[e]=(0|Ve[e])+o)};let We={"&":38,"<":60,">":62,'"':34,"'":39,"`":96},$e=/[&<>"'\`]/g,Je=e=>`&#${We[e]};`,Ee=e=>(e+i).replace($e,Je),Ze={"!":1,"'":7,"(":8,")":9,"*":"A"},Re=e=>"%2"+Ze[e],De=/[!')(*]/g,Pe=e=>r(e).replace(De,Re),qe=/[\\'"]/g,Ue=e=>(e+i).replace(qe,"\\$&"),Ge=(e,t,i)=>(e.has(t)?i=e.get(t):(i=m+(i||e._++),e.has(i)||(e.set(t,i),e.set(i,t))),i),Qe=(e,t,i)=>{if(e._&&(i=e.g)){let a,l=e.k,d=e.id,o=ke[d],p={_:[],a:[],b:0},r=e.c,n=o._;e.l=0,e.k={},t&&e.fire("dompatch"),n._=0,n.clear(),a=i(r,tt,d,Pe,n,Ge,Ue,H);let c=()=>{if(e.m=a,e._)for(a of((i=p.c||!e.h)&&ft(e),p._))ge(a.f,s,a);if(e.n>1)e.n=1,p.a.length=0,Qe(e);else{for([a,d,n]of(e.n=0,p.a))a[d]!=n&&(a[d]=n);for(a of(e.fire("domready"),l=e.o,l))a();l.length=0}};ge(ht,[e.root,e.m,a,p,o,l,e,c])}},et="textarea",tt=(e,t,s,l)=>{let d;if(e){t=t||j;let o,p,r,c,h,g,_=i,x=1==s,u=l,f=l,y=0,k=`<${e}`,w=i,v=0;if(s&&1!=s)for(r of s){if(r.a)p=r.a+(r.b?"/>":`>${r.c}</${r.d}>`);else if(p=r.c,r.d==it){if(!p)continue;p=Ee(p)}w+=p,g&&r.d==it&&g.d==it?g.c+=r.c:(r.e&&(c||(c={}),c[r.e]=(c[r.e]||0)+1,y++),u=u||r.f,g=r,h||(h=[]),h.push(r))}for(o in l=l||j,t)p=t[o],!1!==p&&p!=a?(!0===p&&(t[o]=p=l[o]?p:i),"#"!=o&&"id"!=o&&o!=n||_||(_=p,"id"==o)?(o==b&&p&&(v=1,_||(_=e+m+pe(p).path)),"value"==o&&e==et?w=p:"$"==o?(u=p,delete t[o]):k+=` ${o}="${p&&Ee(p)}"`):delete t[o]):l[o]||delete t[o];d={c:w,e:_,d:e,g:v,f:u,h:l,i:f,a:k,j:t,k:h,l:c,m:y,b:x}}else d={d:s?m:it,c:t+i};return d};let it=t;let st="http://www.w3.org/",at={svg:`${st}2000/svg`,math:`${st}1998/Math/MathML`},lt=(e,t,s,a)=>{let l,d,o,p,r,n=0,c=t.h,h=t.j;if(s)for(l in o=s.h,p=s.j,p)W(h,l)||(n=1,(r=o[l])?a?a.a.push([e,r,i]):e[r]=i:e.removeAttribute(l));for(l in h)d=h[l],(r=c[l])?s&&e[r]==d||(n=1,a?a.a.push([e,r,d]):e[r]=d):s&&p[l]==d||(n=1,e.setAttribute(l,d));return n},dt=(e,t)=>{let i,s=e.d;return s==it?i=o.createTextNode(e.c):(i=o.createElementNS(at[s]||t.namespaceURI,s),lt(i,e),v(i,e.c)),i},ot=(e,t,i,s,a)=>{let l,d,o,p={};for(l=s;l>=i;l--,a--)d=e[l],o=d.e,o&&(d=p[o]||(p[o]=[]),d.push(t[a]));return p},pt=(e,t)=>e.e&&t.e==e.e||!e.e&&!t.e&&e.d==t.d||e.d==m||t.d==m,rt=(e,t,i,s)=>{i&&((s=ke[e.a])?s.unmount():Se(t,e))},nt=(e,t,i,s,a,l)=>{a._&&(rt(e,i,1==e.nodeType),t.removeChild(e),--s.b||ge(l))},ct=(e,t,i,s,a,l,d)=>{a._&&(t.d==m?(Se(e),v(e,t.c)):e.insertBefore(dt(t,e),i[s]),--l.b||ge(d))},ht=(e,t,l,d,o,p,r,n)=>{if(r._)if(t){if(t.f||t.c!=l.c){let c,h,g,_,x,u=t.k||s,f=l.k||s,b=l.l||j,y=l.m,k=t.m,w=e.childNodes,S=0,z=f.length,T=u.length-1,Y=0,I=z-1;0;let L,X=u[S],A=u[T],F=f[Y],C=f[I],V=S,N=T;for(;S<=T&&Y<=I;)if(X)if(A)if(pt(F,X))F.d==m||X.d==m?(d.c=1,Se(e),F.d==m?(N=0,v(e,F.c)):(v(e,i),e.appendChild(dt(F,e)))):(d.b++,ge(gt,[w[V],e,X,F,d,o,p,r,n])),b[X.e]&&(b[X.e]--,y--,_=x&&x[X.e],_&&--x[X.e]),V++,X=u[++S],F=f[++Y];else if(pt(C,A))d.b++,ge(gt,[w[N],e,A,C,d,o,p,r,n]),b[A.e]&&(b[A.e]--,y--),N--,A=u[--T],C=f[--I];else if(pt(C,X))h=w[V],e.insertBefore(h,w[N+1]),d.b++,ge(gt,[h,e,X,C,d,o,p,r,n]),b[X.e]&&(b[X.e]--,y--),N--,X=u[++S],C=f[--I];else if(pt(F,A))h=w[N],e.insertBefore(h,w[V++]),d.b++,ge(gt,[h,e,A,F,d,o,p,r,n]),b[A.e]&&(b[A.e]--,y--),A=u[--T],F=f[++Y];else{if(!x&&y>0&&k>0&&(x=ot(u,w,S,T,N)),L=w[V],_=x&&x[F.e],_&&(_=_.pop())){if(g=X,_!=L){for(h=S+1,c=V+1;h<=T;h++)if(g=u[h],g&&w[c++]==_){u[h]=a;break}S--,e.insertBefore(_,L)}b[g.e]&&b[g.e]--,d.b++,ge(gt,[_,e,g,F,d,o,p,r,n])}else x&&x[X.e]&&b[X.e]||ke[L.a]&&!F.g?(d.c=1,e.insertBefore(dt(F,e),L),S--,N++):(d.b++,ge(gt,[L,e,X,F,d,o,p,r,n]));++V,X=u[++S],F=f[++Y]}else A=u[--T];else X=u[++S];for(c=Y,h=1;c<=I;c++,h++)g=f[c],d.c=1,d.b++,ge(ct,[e,g,w,N+h,r,d,n]);for(!z&&X&&X.d==m&&(N=w.length-1),c=N;c>=V;c--)d.c=1,d.b++,ge(nt,[w[c],e,o,d,r,n])}}else d.c=1,v(e,l.c);d.b||ge(n)},gt=(e,t,i,s,a,l,d,o,p)=>{if(o._){0;let r=i.j,n=s.j;if(i.f||i.a!=s.a||i.c!=s.c)if(i.d==s.d){if(i.d==it)a.c=1,e.nodeValue=s.c;else if(!r._||r._!=n._){let t,r,c,h,g,_,x,u=n[b],m=s.c,f=i.a!=s.a||s.i,k=ke[e.a],w=u&&pe(u);if(f&&(f=lt(e,s,i,a),f&&(a.c=1)),u&&k&&k.g==w.path&&(h=k.c)){if(_=m!=i.c,x=u!=k.path,c=s.f,!_&&!x&&c)for(c of(g=c.split(","),g))if("#"==c||W(d,c)){x=1;break}(x||_)&&(c=h.e,g=w.params,we(n[y],u,g),k.path=u,k.e=m,!1!==B(c,[g,m],h)&&a._.push(h),t=!h.g)}else t=1,r=k;r&&(a.c=1,k.unmount()),t&&!s.b&&ht(e,i,s,a,l,d,o,p)}}else a.c=1,rt(e,l,1),t.replaceChild(dt(s,t),e)}--a.b||ge(p)},_t={},xt=L({get:e=>e?_t[e]:_t,set(e){L(_t,e)}},ye),ut=/^(\$?)([^<]*)<([^>]+)>(?:\s*&(.+))?$/,mt=(e,t,i)=>(e._?i=e:((i=function(e,t){for(t of i._)B(t,e,this)})._=[e],i.a=1),i._=i._.concat(t._||t),i),ft=e=>{let t,i;e._&&(i=e.h,e.h=1,t=e.owner,((e,t,i)=>{for(i of(t=t||e.root).querySelectorAll(`[mx5-view][mx5-owner="${e.id}"]`))i._||(i._=1,e.mount(i,O(i,b)))})(t),i||ge(ve,t))},bt=(e,t)=>{let i,{j:s,i:a,p:l,id:d}=e;for(i in s)Be(i,a[i],t,s[i]);for(i of(s=t?se:ie,l))s(i._,i.a,i.b,i.c,d,e)},yt={win:l,doc:o,root:i};function kt(...e){return L(this,...e),this}function wt(...e){let t=this,i=t._||(t._=[]);return((e,t,i)=>{let s,a,l,d,o={};for(a of e)for(s in a)l=a[s],d=o[s],"ctor"!=s?(ut.test(s)&&(d?l=mt(d,l):l.a=1),o[s]=l):i.push(l);for(s in o)W(t,s)||(t[s]=o[s])})(e,t.prototype,i),t}let vt=e=>function(...t){return this._&&B(e,t,this)},St=(e,t,i,s)=>{if(e)for(s of e)B(s,t,i)};let jt=e=>{if(!e["\x1e"]){e["\x1e"]=1;let t,s,a,l,d,o,p,r,n,c,h,g=e.prototype,_={},x=[],u={};for(p in g)if(t=g[p],s=p.match(ut),s)for(r of([,o,a,l,h]=s,c=h?le(h):j,l=l.split(","),l)){if(d=yt[a],n=1,!1===c.passive&&(n|=4),c.capture&&(n|=8),o){if(d){x.push({b:t,_:d,a:r,c:c});continue}d===i&&(a=i),n|=2,d=u[r],d||(d=u[r]=[]),d[a]||(d[a]=1,d.push(a))}_[r]|=n,r=a+m+r,d=g[r],d?d.a&&(t.a?g[r]=mt(t,d):W(g,p)&&(g[r]=t)):g[r]=t}g.f=g.render=vt(g.render),g.j=_,g.p=x,g.i=u,g.e=g.assign,g.g=g.tmpl}};function zt(e,t,i,s,a){(a=this).root=t,a.owner=i,a.id=e,a._=1,a.l=1,a.c={},a.k={},a.n=0,a.o=[],St(zt._,s,a)}function Tt(){this.id=k("b"),this._={}}L(zt,{merge:wt,extend:function e(t){let i=this,s=(t=t||{}).ctor;function a(e,t,l,d,o){i.call(o=this,e,t,l,d),s&&B(s,d,o),St(a._,d,o)}return a.merge=wt,a.extend=e,a.static=kt,ue(a,i,t)}}),L(zt.prototype,ye,{init:c,render:c,assign:c,get(e,t){return t=this.c,e&&(t=t[e]),t},set(e,t){let i,s,a,l=this,d=l.c,o=l.k,p=l.l;for(a in e)i=e[a],s=d[a],T(i)&&s==i&&!t||(o[a]=1,p=1),d[a]=i;return l.l=p,l},digest(e,t){return e=this.set(e,t),new d((t=>{e.l?(e.n++,e.o.push(t),1==e.n&&Qe(e,1)):e.n?e.o.push(t):t()}))},finale(){let e=this;return new d((t=>{e.n?e.o.push(t):t()}))},parse(e){return ne(e,this.owner._)}}),L(Tt.prototype,{get(t,s){let a,l=this,d=l._;if(t){let s,a=H(t)?t.slice():(t+i).split(".");for(;(s=a.shift())&&d;)d=d[s];s&&(d=e)}return s!==e&&(a=V(s))!=V(d)&&(d=s),d},set(e){L(this._,e)}});let Yt=(e,t,i)=>s=>{if(i=e[t]){delete e[t];for(let e of i)B(e,s,i._)}},It=(e,t,i,s,l)=>{if(e._)return e;if(e.a)return e.enqueue(It.bind(e,e,t,i,s,l));e.a=1,H(t)||(t=[t]);let d=e.constructor,o=0,p=d.b,r=((e,t,i,s,l,d)=>{let o=[],p=a,r=0;return(n,c,h)=>{let g;r++;let _,x=n.a,m=x._;if(o[c+1]=n,h?(p=h,g=1):d.has(m)||(m&&d.set(m,n),x.a=u(),_=x.b,_&&B(_,n,n),g=1),!i._){let t=r==s;t&&(i.a=0,2==l&&(o[0]=p,B(e,o,i))),1==l&&B(e,[h||a,n,t,c],i)}g&&t.fire("end",{bag:n,error:h})}})(i,d,e,t.length,s,d.c);for(let e of t)if(e){let t,[i,s]=d.get(e,l),a=i.a._,n=r.bind(i,i,o++);a&&p[a]?p[a].push(n):s?(a&&(t=[n],t._=i,p[a]=t,n=Yt(p,a)),d.d(i,n)):n()}return e};function Lt(){this.id=k("s"),this.e=[]}L(Lt.prototype,{all(e,t){return It(this,e,t,2)},save(e,t){return It(this,e,t,2,1)},one(e,t){return It(this,e,t,1)},enqueue(e){let t=this;return t._||(t.e.push(e),t.dequeue(t.f)),t},dequeue(...e){let t,i=this;i.a||i._||(i.a=1,p((()=>{i.a=0,i._||(t=i.e.shift(),t&&B(t,i.f=e))})))},destroy(e){(e=this)._=1,e.e=0}});let Xt=(e,t)=>[g(t),g(e)].join(m),At=L({add(e){let t,i=this.g;for(t of(H(e)||(e=[e]),e))if(t){let{name:e,cache:s}=t;t.cache=0|s,i[e]=t}},create(e){let t=this.meta(e),i=0|e.cache||t.cache,s=new Tt;s.set(t),s.a={b:t.after,_:i&&Xt(t,e)},N(e)&&s.set(e);let a=t.before;return a&&B(a,s,s),this.fire("begin",{bag:s}),s},meta(e){return this.g[e.name||e]||e},get(e,t){let i,s,a=this;return t||(i=a.cached(e)),i||(i=a.create(e),s=1),[i,s]},cached(e){let t,i,s=this,a=s.c,l=s.meta(e),d=0|e.cache||l.cache;if(d&&(i=Xt(l,e)),i){let e=s.b[i];e?t=e._:(t=a.get(i),t&&u()-t.a.a>d&&(a.del(i),t=0))}return t}},ye);Lt.extend=(e,t,i)=>{function s(){Lt.call(this)}return s.d=e,s.c=new E(t,i),s.b={},s.g={},L(s,At),ue(s,Lt)};let Ft=0;return{config(e,...t){let i=z;return e&&(i=N(e)?L(i,e,...t):i[e]),i},boot(e){var t,i;Ft||(Ft=1,L(z,e),ze((fe||(h=o.body,t=be=z.rootId,(i=w(t))||(i=h),fe=new Ye(i)),fe),z.defaultView))},unboot(){Ft&&(Ft=0,fe&&(fe.unmount(),fe=a))},HIGH:1e3,LOW:-1e3,isObject:N,isArray:H,isFunction:e=>"Function"==V(e),isString:e=>"String"==V(e),isNumber:e=>"Number"==V(e),attach:ee,detach:te,mix:L,toMap:(e,t)=>{let i,s={};if(e)for(i of e)s[t&&i?i[t]:i]=t?i:1+(0|s[i]);return s},toTry:B,toUrl:(e,t,s)=>{let a,l,d,o=[];for(l in t)a=t[l]+i,(a||W(s,l))&&(a=r(a),o.push(d=l+"="+a));return d&&(e+=(e&&(e.includes("?")?"&":"?"))+o.join("&")),e},parseUrl:pe,guid:k,use:xe,dispatch:(e,t,i)=>{let s=new Event(t,G);L(s,i),e.dispatchEvent(s)},guard:me,type:V,has:W,inside:Y,applyStyle:K,Cache:E,View:zt,Vframe:Ye,State:xt,Service:Lt,Event:ye,mark:(e,t,i,s,a)=>(0!=e[a="\x1e_"]&&(i=e[a]||(e[a]={}),W(i,t)||(i[t]=0),s=++i[t]),i=>(i=e[a])&&s===i[t]),unmark:I,node:w,task:ge,lowTask:_e,taskFinale:()=>new d(ge),lowTaskFinale:()=>new d(_e),delay:e=>new d((t=>p(t,e)))}})),window.designer={setup(e){let t=document.getElementById("boot").src.replace(/\/[^/]+$/,"/");seajs.config({paths:{designer:t+"designer",elements:t+"elements",gallery:t+"gallery",i18n:t+"i18n",panels:t+"panels"},alias:{magix:"magix5"}}),seajs.use(["magix","i18n/index"],((t,i)=>{t.applyStyle("pd-_",'@font-face{font-family:pd-_;src:url(//at.alicdn.com/t/font_2644507_pgck80obal.woff2?t=1629362743885) format("woff2"),url(//at.alicdn.com/t/font_2644507_pgck80obal.woff?t=1629362743885) format("woff"),url(//at.alicdn.com/t/font_2644507_pgck80obal.ttf?t=1629362743885) format("truetype")}*,:after,:before{box-sizing:inherit}.pd-_{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:pd-_;font-size:16px;font-style:normal;font-variant:normal;font-weight:400;line-height:1;position:relative}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(250,116,43,.2)}::selection{background-color:rgba(250,116,43,.2)}.pd-a,.pd-b{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;box-shadow:none;box-sizing:border-box;caret-color:#fa742b;color:#333;display:inline-block;font-size:100%;height:22px;margin:0;max-width:100%;outline:none;padding:3px 4px;transition:border-color .25s;width:140px}.pd-c{position:sticky}.pd-a:hover,.pd-b:hover{border-color:#ccc}.pd-a:focus,.pd-b:focus,.pd-d{border-color:#fa742b!important;outline:none;resize:none}.pd-e{resize:none}.pd-d:hover{border-color:#fa742b!important}.pd-b{height:auto;overflow:auto}.pd-a[disabled],.pd-b[disabled]{background-color:#f5f5f5;cursor:not-allowed}.pd-a::-moz-placeholder,.pd-b::-moz-placeholder{color:#a9a9a9;opacity:1}.pd-a::-moz-focus-inner{border-style:none;padding:0}.pd-f{transform:rotate(90deg)}.pd-a[disabled]:hover,.pd-b[disabled]:hover{border-color:#e6e6e6;cursor:not-allowed}.pd-g{background-color:#ccc;background-image:none;border:0;border-radius:2px;color:#333;display:inline-block;font-size:14px;font-weight:400;line-height:1;margin:0;outline:0;padding:4px 14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.pd-g:focus,.pd-g:hover{background-color:#bbb;color:#333}.pd-h{background-color:#fa742b;color:#fff}.pd-h:focus,.pd-h:hover{background-color:#e25305;color:#fff}.pd-g[disabled]{background-color:#f5f5f5;color:#999;cursor:not-allowed}.pd-g[disabled]:hover{border-color:#e6e6e6;color:#999}.pd-g::-moz-focus-inner{border-style:none;padding:0}.pd-i{border-bottom:1px solid hsla(0,0%,90%,.4);color:#333;line-height:1.5;margin:0;padding:8px 25px}.pd-j{margin-top:-20px}.pd-k{box-shadow:0 0 6px #ccc;height:10px;margin-top:10px;top:28px}.pd-l{padding:18px 25px}.pd-m{bottom:28px;box-shadow:0 0 6px #ccc;height:10px;margin-bottom:10px}.pd-n{border-top:1px solid hsla(0,0%,90%,.4);padding:8px 25px}.pd-o{margin-bottom:-20px}.pd-p{line-height:0;margin:0 auto;padding:150px 0;text-align:center;width:150px}.pd-p:after,.pd-p:before{content:""}.pd-p:after,.pd-p:before,.pd-q{-webkit-animation:pd-_ 1s ease-in-out infinite both;animation:pd-_ 1s ease-in-out infinite both;background-color:#ccc;border-radius:100%;display:inline-block;height:14px;width:14px}.pd-p:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.pd-q{-webkit-animation-delay:-.16s;animation-delay:-.16s;margin:0 10px}@-webkit-keyframes pd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes pd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.pd-r{cursor:default;cursor:pointer;display:inline-block;font-weight:400;max-width:100%}.pd-s{font-size:14px}.pd-s,.pd-t{margin:0;padding:0}.pd-t{list-style-image:none;list-style-type:none}.pd-u{border-style:none;height:auto;max-width:100%;vertical-align:top}.pd-v{all:initial;box-sizing:border-box;display:block;font-family:Arial,sans-serif;font-size:14px;line-height:1.5}.pd-w{margin-right:2px}.pd-x{transform:rotate(180deg)}.pd-y{margin-right:5px}.pd-z{margin-right:10px}.pd-A{margin-left:10px}.pd-B{width:100%}.pd-C{height:100%}.pd-D{max-width:100%}.pd-E{max-height:100%}.pd-F{background-color:#fff}.pd-G{word-break:break-all}.pd-H{justify-content:flex-end}.pd-I{bottom:0}.pd-J{cursor:pointer}.pd-K{font-size:12px}.pd-L{flex-wrap:wrap}.pd-M{position:absolute}.pd-N{display:inline-block}.pd-O{margin-top:4px}.pd-P{color:#999}.pd-Q{color:#666}.pd-R{display:block}.pd-S{padding:4px}.pd-T{margin:0}.pd-U{flex:1}.pd-V{height:100px}.pd-W{font-size:16px}.pd-X{text-align:right}.pd-Y{text-align:center}.pd-Z{float:left}.pd-0{float:right}.pd-1{position:relative}.pd-2{margin:30px 0}html .pd-3{display:none}.pd-4:after,.pd-4:before{content:" ";display:table}.pd-4:after{clear:both}.pd-5{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pd-6::-webkit-scrollbar,.pd-6::-webkit-scrollbar-corner{background:#edeef3;height:4px;width:4px}.pd-6::-webkit-scrollbar-thumb{background:#fa742b;border-radius:2px}.pd-6::-webkit-scrollbar-thumb:hover{background:#ec5706}.pd-7{scroll-behavior:smooth}.pd-7::-webkit-scrollbar,.pd-7::-webkit-scrollbar-corner{background:#fafafa;height:2px;width:2px}.pd-8{word-wrap:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pd-9{background:linear-gradient(90deg,#0000,#7d768454 50%,#0000);height:1px;line-height:1px;margin:5px 0}.pd-a_{display:flex}.pd-aa{bottom:0;left:0;right:0;top:0}.pd-ab{overflow:auto}.pd-ac{outline:0}.pd-ad{contain:paint}.pd-ae{min-height:100vh}.pd-af{align-items:center}.pd-ag{justify-content:center}.pd-ah{transform:scaleX(-1)}.pd-ai{z-index:1}.pd-aj{z-index:5}.pd-ak{z-index:6}.pd-al{z-index:7}.pd-am{z-index:8}.pd-an{top:0}.pd-ao:before{align-items:center;content:attr(data-tip);display:flex;height:100%;justify-content:center;position:absolute;width:100%}.pd-ap{overflow:hidden}');let s=navigator.language.toLowerCase();try{let e=window.localStorage;e&&(s=e.getItem("l.lang")||s)}catch(e){}t.config(e),t.config({lang:s});let{State:a,View:l}=t;l.merge({ctor(){this.set({i18n:i})},_cF(e,t){let i;return t=t||150,(...s)=>{clearTimeout(i),i=setTimeout((()=>{e.apply(this,s)}),t)}},_cq(e){e.preventDefault()},_ct(e){e.stopPropagation()},"_bP<change>"(e){this._ct(e)},"_A<contextmenu>"(e){this._cq(e)}}),document.title=i("e");let d=t.node("app"),o=0;d.classList.add("pd-v","pd-C"),t.boot({defaultPath:"/index",defaultView:"designer/index",rootId:"app",wait(e){e!=o&&a.fire("j",{busy:o=e})},error(e){setTimeout((()=>{throw e}),0)}})}))}},define("gallery/mx-color/index",["magix","../mx-dragdrop/index","../mx-monitor/index"],((e,t,i)=>{let s,a,l,d,o,p,r,n,c,h,g,_,x,u,m={class:"pd-bt"},f={xmlns:"http://www.w3.org/2000/svg",version:1.1,width:"100%",height:"100%"},b={class:"pd-1 pd-bl"},y={class:"pd-by"},k={value:"value"};const w=e("magix"),v=e("../mx-dragdrop/index"),S=e("../mx-monitor/index");let{node:j,View:z,applyStyle:T,dispatch:Y,inside:I}=w,{abs:L,min:X,max:A,round:F}=Math;T("pd-i",'.pd-bj{border:1px solid #e6e6e6;border-radius:2px;height:22px;padding:1px}.pd-bj:hover{border-color:#ccc}.pd-bk,.pd-bk:hover{border-color:#fa742b}.pd-bl,.pd-bm{background:#fff;background-image:linear-gradient(45deg,#eee 25%,#0000 0,#0000 75%,#eee 0),linear-gradient(45deg,#eee 25%,#0000 0,#0000 75%,#eee 0);background-position:0 0,6px 6px;background-size:12px 12px}.pd-bm{border:1px solid #ccc;height:18px;min-width:18px;text-indent:-100000em}.pd-bn{padding:3px 4px}.pd-bm:after{border-color:#0000 #ccc;border-style:solid;border-width:6px 6px 0 0;bottom:0;content:" ";display:block;position:absolute;right:0}.pd-bo{background-color:#fff;border:1px solid #ccc;border-radius:2px;padding:2px;z-index:300}.pd-bp-bottom{margin-top:4px;top:100%}.pd-bp-top{bottom:100%;margin-bottom:4px}.pd-bq{width:176px}.pd-br{border:1px solid #000;height:12px;margin:-1px 0 0 -1px;width:12px}.pd-bs:before{border:1px inset #e8e8e8;content:" ";height:6px;left:2px;position:absolute;top:2px;width:6px}.pd-bt{height:150px;margin:5px 0}.pd-bu{height:148px;width:148px}.pd-bv{border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);height:8px;left:-4px;top:-4px;width:8px}.pd-bw{height:148px;margin-left:10px;width:18px}.pd-bx{background:#fff;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);height:4px;left:2px;top:-2px;width:14px}.pd-by{height:25px}.pd-bz{width:80px}.pd-bA,.pd-bz{margin-right:5px;vertical-align:middle}.pd-bA{border:1px solid #ddd;border-radius:2px;height:22px;width:30px}.pd-bB{opacity:.2;right:5px;top:4px}.pd-bB:hover{opacity:.5}.pd-bl{height:12px;margin-bottom:5px;width:174px}.pd-bC{background:#fff;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);height:8px;left:-2px;top:2px;width:4px}.pd-bD{background-color:#f5f5f5;cursor:not-allowed}.pd-bD:hover{border-color:#e6e6e6}.pd-bD:hover .pd-bB{opacity:.1}.pd-bD .pd-bm{opacity:.4}.pd-bD .pd-bB{opacity:.1}.pd-bE{width:56px}');let C=["d81e06","f4ea2a","1afa29","1296db","13227a","d4237a","ffffff","e6e6e6","dbdbdb","cdcdcd","bfbfbf","8a8a8a","707070","515151","2c2c2c","000000","ea986c","eeb174","f3ca7e","f9f28b","c8db8c","aad08f","87c38f","83c6c2","7dc5eb","87a7d6","8992c8","a686ba","bd8cbb","be8dbd","e89abe","e8989a","e16632","e98f36","efb336","f6ef37","afcd51","7cba59","36ab60","1baba8","17ace3","3f81c1","4f68b0","594d9c","82529d","a4579d","db649b","dd6572","d84e06","e0620d","ea9518","f4ea2a","8cbb1a","2ba515","0e932e","0c9890","1295db","0061b2","0061b0","004198","122179","88147f","d3227b","d6204b"],V=(e,t,i)=>{let s,a,l,d,o;o=i*t,d=o*(1-L((e=e%360/60)%2-1)),s=a=l=i-o,s+=[o,d,0,0,d,o][e=~~e],a+=[d,o,o,d,0,0][e],l+=[0,0,d,o,o,d][e];let p=255*s,r=255*a,n=255*l;return{r:p,g:r,b:n,hex:"#"+(16777216|n|r<<8|p<<16).toString(16).slice(1)}};i.exports=z.extend({tmpl:(e,t,i,w,v,S,j)=>{let z,T,Y,I,L,X,A,F,C,V,{disabled:N,text:H,textWidth:M,color:O,clear:K,i18n:B,placement:W,align:$,renderUI:J,shortcuts:E,alpha:Z,current:R}=e;if(V=[],H&&(I=[t(0,H)],T="pd-bn pd-5",N||(T+=" pd-J"),Y="",M&&(Y+="width:"+M+"px"),V.push(t("div",{"mx5-click":i+"\x1e_bl()",class:T,style:Y},I))),I=[s||(s=t(0,"p"))],T="pd-bm pd-1 pd-5",N||(T+=" pd-J"),H||(T+=" pd-B"),Y="",O&&(Y+="background:"+O+";"),V.push(t("div",{"mx5-click":i+"\x1e_bl()",class:T,style:Y},I)),K&&O&&(I=[a||(a=t(0,"\ue624"))],T="pd-_ pd-bB pd-K pd-M",N||(T+=" pd-J"),V.push(t("i",{"mx5-click":i+"\x1e_bm()",title:B("ac"),class:T},I))),I=[],J){L=[];for(let e=E.length,s=0;s<e;s+=1){let e=E[s];L.push(t("li",{class:"pd-1 pd-Z pd-br",id:"_mx_sc_"+e+"_"+i,style:"background:#"+e,"mx5-click":i+"\x1e_bh({color:'#"+j(e)+"'})"}))}I.push(t("ul",{class:"pd-J pd-L pd-a_ pd-bq pd-t",id:"_mx_scs_"+i},L)),X=l?[l]:[l=t("stop",{_:"_",offset:"0%","stop-color":"#000000","stop-opacity":1})],d?X.push(d):X.push(d=t("stop",{_:"a",offset:"100%","stop-color":"#CC9A81","stop-opacity":0})),A=[t("lineargradient",{id:"_mx_gb_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},X)],X=o?[o]:[o=t("stop",{_:"b",offset:"0%","stop-color":"#FFFFFF","stop-opacity":1})],d?X.push(d):X.push(d=t("stop",{_:"a",offset:"100%","stop-color":"#CC9A81","stop-opacity":0})),A.push(t("lineargradient",{id:"_mx_gw_"+i,x1:"0%",y1:"100%",x2:"100%",y2:"100%"},X)),F=[t("defs",0,A),t("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#_mx_gw_"+i+")"}),t("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#_mx_gb_"+i+")"})],C=[t("svg",f,F),t("div",{class:"pd-J pd-M pd-bv",id:"_mx_ci_"+i})],L=[t("div",{class:"pd-1 pd-Z pd-bu",id:"_mx_cz_"+i,"mx5-pointerdown":i+"\x1e_bd()"},C)],X=p?[p]:[p=t("stop",{_:"c",offset:"0%","stop-color":"#FF0000","stop-opacity":1})],r?X.push(r):X.push(r=t("stop",{_:"d",offset:"13%","stop-color":"#FF00FF","stop-opacity":1})),n?X.push(n):X.push(n=t("stop",{_:"e",offset:"25%","stop-color":"#8000FF","stop-opacity":1})),c?X.push(c):X.push(c=t("stop",{_:"f",offset:"38%","stop-color":"#0040FF","stop-opacity":1})),h?X.push(h):X.push(h=t("stop",{_:"g",offset:"50%","stop-color":"#00FFFF","stop-opacity":1})),g?X.push(g):X.push(g=t("stop",{_:"h",offset:"63%","stop-color":"#00FF40","stop-opacity":1})),_?X.push(_):X.push(_=t("stop",{_:"i",offset:"75%","stop-color":"#0BED00","stop-opacity":1})),x?X.push(x):X.push(x=t("stop",{_:"j",offset:"88%","stop-color":"#FFFF00","stop-opacity":1})),u?X.push(u):X.push(u=t("stop",{_:"k",offset:"100%","stop-color":"#FF0000","stop-opacity":1})),A=[t("lineargradient",{id:"_mx_ghsv_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},X)],F=[t("defs",0,A),t("rect",{x:0,y:0,width:"100%",height:"100%",fill:"url(#_mx_ghsv_"+i+")"})],C=[t("svg",f,F),t("div",{class:"pd-J pd-M pd-bx",id:"_mx_si_"+i})],L.push(t("div",{class:"pd-1 pd-Z pd-bw","mx5-pointerdown":i+"\x1e_be()"},C)),I.push(t("div",m,L)),Z&&(C=[t("div",{class:"pd-J pd-M pd-bC",id:"_mx_ai_"+i})],L=[t("div",{class:"pd-1 pd-C",id:"_mx_at_"+i,"mx5-pointerdown":i+"\x1e_bf()"},C)],I.push(t("div",b,L))),L=[t("span",{class:"pd-N pd-bA",id:"_mx_bc_"+i}),t("input",{class:"pd-a pd-bz",readonly:!0,id:"_mx_v_"+i,value:R},1,k)],C=[t(0,B("ad"))],L.push(t("button",{class:"pd-J pd-Y pd-bE pd-g pd-h",type:"button","mx5-click":i+"\x1e_bg()"},C)),I.push(t("div",y,L))}return V.push(t("div",{id:"_mx_bd_"+i,class:"pd-bo pd-5 pd-3 pd-M pd-bp-"+W,style:$+":-1px"},I)),T="pd-bj pd-a_ pd-af pd-1",N&&(T+=" pd-bD"),z=[t("div",{"mx5-contextmenu":i+"\x1e_A()",id:"_mx_root_"+i,class:T},V)],t(i,0,z)},init(){this.set({shortcuts:C}),S._a3(),this.on("destroy",(()=>{S._a4(this),S._a5()}))},assign(e){let t=this;t._ak=e.color||"",t._a6=e.alpha+""=="true",t._a7={h:0,s:1,v:1},t.set({clear:e.clear+""=="true",text:e.text||"",disabled:e.disabled+""=="true",align:e.align||"left",textWidth:e.textWidth||0,placement:e.placement||"bottom"})},render(){this.digest({alpha:this._a6,color:this._ak,current:this._ak})},_b_(e,t,i){let s=this,a=s._a7;a.h=e.h,a.s=e.s,a.v=e.v,t=V(e.h,e.s,e.v).hex;let l=j("_mx_cz_"+s.id),d=l.clientWidth,o=V(e.h,1,1);if(l.style.background=o.hex,s._a8=t,s._a9(),!i){let e=j("_mx_scs_"+s.id).querySelector('li[class$="pd-bs"]');e&&e.classList.remove("pd-bs");let t=j("_mx_si_"+s.id),i=t.clientHeight/2,l=F(a.h*d/360-i),o=j("_mx_ci_"+s.id),p=o.clientWidth/2;t.style.top=l+"px",l=F((1-a.v)*d-p);let r=F(a.s*d-p);o.style.left=r+"px",o.style.top=l+"px"}let p=j("_mx_sc_"+t.substr(1,6)+"_"+s.id);p&&p.classList.add("pd-bs")},_bc(e){let t=this,i=parseInt(e.substr(1,2),16);isNaN(i)&&(i=255);let s=parseInt(e.substr(3,2),16);isNaN(s)&&(s=255);let a=parseInt(e.substr(5,2),16);isNaN(a)&&(a=255);let l=((e,t,i)=>{let s,a,l,d;return l=A(e/=255,t/=255,i/=255),d=l-X(e,t,i),s=0===d?null:l==e?(t-i)/d+(t<i?6:0):l==t?(i-e)/d+2:(e-t)/d+4,s=s%6*60,a=0===d?0:d/l,{h:s,s:a,v:l}})(i,s,a),d=parseInt(e.substr(7,2),16);isNaN(d)&&(d=255),t._ba=("0"+d.toString(16)).slice(-2),t._b_(l,e),t._a6&&t._bb(d)},_bb(e){let t=j("_mx_ai_"+this.id);e/=255,e*=j("_mx_at_"+this.id).clientWidth,e-=t.clientWidth/2,t.style.left=e+"px"},_a9(){let e=this,t=j("_mx_bc_"+e.id),i=e._a8;e._a6&&(j("_mx_at_"+e.id).style.background="linear-gradient(to right, "+i+"00 0%,"+i+" 100%)",i+=e._ba),t.style.background=i,j("_mx_v_"+e.id).value=i},"_bd<pointerdown>"(e){let t=this,i=j("_mx_cz_"+t.id).clientWidth,s=j("_mx_ci_"+t.id).clientWidth/2,a=e.eventTarget.getBoundingClientRect(),l=e.pageX-a.x-window.pageXOffset,d=e.pageY-a.y-window.pageYOffset,o=l/i,p=(i-d)/i;t._b_({h:t._a7.h,s:o,v:p});let r=j("_mx_ci_"+t.id),n=getComputedStyle(r),c=n.left,h=n.top,g=parseInt(c,10),_=parseInt(h,10),x=e;t._w(e,(e=>{let a=e.pageY-x.pageY,l=e.pageX-x.pageX;a+=_,a<=-s?a=-s:a>=i-s&&(a=i-s),l+=g,l<=-s?l=-s:l>=i-s&&(l=i-s),r.style.left=l+"px",r.style.top=a+"px";let d=(l+s)/i,o=(i-(a+s))/i;t._b_({h:t._a7.h,s:d,v:o})}))},"_be<pointerdown>"(e){let t=this,i=e.eventTarget,s=j("_mx_si_"+t.id),a=j("_mx_cz_"+t.id).clientWidth,l=s.clientHeight/2,d=i.getBoundingClientRect(),o=(e.pageY-d.y-window.scrollY)/a*360;t._b_({h:o,s:t._a7.s,v:t._a7.v});let p=parseInt(getComputedStyle(s).top,10);t._w(e,(i=>{let d=i.pageY-e.pageY;d+=p,d<=-l?d=-l:d>=a-l&&(d=a-l),s.style.top=d+"px";let o=(d+l)/a*360;t._b_({h:o,s:t._a7.s,v:t._a7.v},null,!0)}))},"_bf<pointerdown>"(e){let t=e.eventTarget,i=this,s=j("_mx_ai_"+i.id),a=j("_mx_at_"+i.id).clientWidth,l=s.clientWidth/2,d=t.getBoundingClientRect(),o=(e.pageX-d.x)/a*255|0;i._ba=("0"+o.toString(16)).slice(-2),i._bb(o),i._a9();let p=getComputedStyle(s),r=parseInt(p.left,10);i._w(e,(t=>{let d=t.pageX-e.pageX;d+=r,d<=-l?d=-l:d>=a-l&&(d=a-l),s.style.left=d+"px";let o=F((d+l)/a*255);i._ba=("0"+o.toString(16)).slice(-2),i._a9()}))},"_bg<click>"(){let e=this;e._y();let t=j("_mx_v_"+e.id).value;t!=e._ak&&(e.digest({color:t,current:t}),Y(e.root,"input",{color:e._ak=t}))},"_bh<click>"(e){this._bc(e.params.color),e.eventTarget.classList.add("pd-bs")},_bi(e){return I(e,this.root)},async _x(){let e=j("_mx_bd_"+this.id);"none"==getComputedStyle(e).display&&(e.style.display="block",S._bj(this),j("_mx_root_"+this.id).classList.add("pd-bk"),this._bk||(await this.digest({renderUI:!0}),this._bk=1),this._bc(this._ak))},_y(){let e=j("_mx_bd_"+this.id);"none"!=getComputedStyle(e).display&&(j("_mx_root_"+this.id).classList.remove("pd-bk"),e.style.display="none",S._a4(this))},"_bl<click>"(){if(this.get("disabled"))return;let e=j("_mx_bd_"+this.id);"none"==getComputedStyle(e).display?this._x():this._y()},"_bm<click>"(){if(this.get("disabled"))return;let e=this;if(e._bk){let t=j("_mx_v_"+e.id).value;e._y(),e.digest({color:"",current:t})}else e.digest({color:""});Y(e.root,"input",{color:e._ak=""})}}).merge(v)})),define("gallery/mx-color/series",["magix","./index"],((e,t,i)=>{let s,a,l;e("./index");const d=e("magix");let{applyStyle:o,View:p,dispatch:r}=d;o("pd-j",".pd-bF{color:#333;flex-basis:24px}.pd-bG{opacity:.5}.pd-bG:hover{opacity:1}.pd-bH{color:#bbb;cursor:not-allowed;opacity:1}");let{random:n}=Math,c=()=>"#"+("00000"+(16777216*n()|0).toString(16)).slice(-6);i.exports=p.extend({tmpl:(e,t,i,d,o,p)=>{let r,n,c,h,g,_=[],{colors:x,disabled:u,i18n:m,multi:f}=e;for(let e=x.length,l=0;l<e;l+=1){let e=0===l;g=[],c="gallery/mx-color/index?color="+p(o,x[l],"_."+l+".a")+"&align=right",(r=u)&&(c+="&disabled="+d(r)),g.push(t("div",{"mx5-owner":i,$:"colors",class:"pd-B","mx5-input":i+"\x1e_bn({index:"+l+"})","mx5-view":c})),h=[s||(s=t(0,"\ue604"))],n="pd-_ pd-bF pd-K pd-J pd-X pd-bG",u&&(n+=" pd-bH"),g.push(t("i",{title:m("ae"),"mx5-click":i+"\x1e_bq({index:"+l+"})",class:n},h)),x.length>1&&(h=[a||(a=t(0,"\ue6b3"))],n="pd-_ pd-bF pd-K pd-J pd-X pd-bG",u&&(n+=" pd-bH"),g.push(t("i",{title:m("af"),"mx5-click":i+"\x1e_bp({index:"+l+"})",class:n},h))),n="pd-a_ pd-af",e||(n+=" pd-O"),_.push(t("div",{class:n},g))}return f&&(g=[l||(l=t(0,"\ue606"))],n="pd-_ pd-J",(u||x.length>9)&&(n+=" pd-bH"),_.push(t("i",{title:m("ag"),"mx5-click":i+"\x1e_bo()",class:n},g))),t(i,0,_)},assign(e){this.set(e)},render(){this.digest()},"_bn<input>"(e){let t=this.get("colors"),{index:i}=e.params;t[i]=e.color,r(this.root,"change")},"_bo<click>"(){if(this.get("disabled"))return;let e=this.get("colors");if(e.length>9)return;let t=c();e.push(t),r(this.root,"change")},"_bp<click>"(e){if(this.get("disabled"))return;let t=this.get("colors"),{index:i}=e.params;t.splice(i,1),r(this.root,"change")},"_bq<click>"(e){if(this.get("disabled"))return;let t=this.get("colors"),{index:i}=e.params,s=c();t[i]=s,r(this.root,"change")}})})),define("gallery/mx-dropdown/index",["magix","../mx-monitor/index"],((e,t,i)=>{let s,a={class:"pd-_ pd-b5"},l={class:"pd-3 pd-6 pd-7 pd-M pd-ab pd-b0"},d={class:"pd-K pd-_ pd-b5"};const o=e("magix"),p=e("../mx-monitor/index");let{View:r,applyStyle:n,toMap:c,inside:h,node:g,dispatch:_,isFunction:x}=o;n("pd-l",'.pd-bT{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;height:22px;min-width:50px;outline:0;vertical-align:middle}.pd-bU:focus,.pd-bU:focus:hover{border-color:#fa742b}.pd-bT:hover{border-color:#ccc}.pd-bV{color:#333;padding:0 20px 0 3px}.pd-bW{background-color:#f5f5f5;cursor:not-allowed}.pd-bW:hover{border-color:#e6e6e6}.pd-bW .pd-bV{color:#999;cursor:not-allowed}.pd-bX{color:#ccc;right:0;top:0;transition:all .25s;width:20px}.pd-bX:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #ccc;bottom:0;content:"";display:block;height:0;left:0;margin:auto;position:absolute;right:0;top:0;width:0}.pd-bY .pd-bX{transform:rotate(180deg)}.pd-bY,.pd-bY:hover{border-color:#fa742b}.pd-bZ{height:20px;line-height:21px}.pd-b0{background-color:#fff;border:1px solid #ccc;border-radius:2px;left:-1px;margin-top:4px;right:-1px;top:100%;z-index:300}.pd-bY .pd-b0{display:block}.pd-b1{max-height:196px;padding:2px 0}.pd-b2{margin:2px 0;padding:0 2px}.pd-b3{border-radius:2px;height:20px;line-height:20px;padding:0 5px}.pd-b3:hover{background-color:#f0f0f0;color:#333}.pd-b4,.pd-b4:active,.pd-b4:focus,.pd-b4:hover{background-color:#fa742b;color:#fff}.pd-b5{padding:0 4px}'),i.exports=r.extend({tmpl:(e,t,i,o,p,r)=>{let n,c,h,g,_,x,u,m,f,{disabled:b,i18n:y,selectedText:k,selected:w,emptyText:v,selectedIcon:S,rList:j,list:z,textKey:T,valueKey:Y,iconKey:I}=e;if(f=[],g=[],S&&(h=[t(0,S,1)],g.push(t("i",a,h))),g.push(t(0,y(k))),c="pd-bZ pd-R pd-8",""!==w&&w!=v||(c+=" pd-P"),_=[t("span",{class:c},g)],s?_.push(s):_.push(s=t("span",{_:"_",class:"pd-C pd-M pd-bX"})),f.push(t("div",{class:"pd-1 pd-B pd-J pd-bV","mx5-click":i+"\x1e_bl()",title:y(k)},_)),j){g=[];for(let e=z.length,s=0;s<e;s+=1){let e,a=z[s],l=a,o=a;T&&Y&&(x="",l=y(a[T]),x+=" ",o=a[Y],x+=" ",e=a[I]);let n=o+""==w+"";m=[],e&&(u=[t(0,e,1)],m.push(t("i",d,u))),m.push(t(0,l)),c="pd-b3 pd-R pd-Q pd-B pd-J pd-8",n&&(c+=" pd-b4"),h=[t("span",{"mx5-click":i+"\x1e_bN({item:'"+r(p,a,"_."+s+".a")+"'})",class:c},m)],g.push(t("li",{title:l,class:"pd-ab pd-b2"},h))}_=[t("ul",{class:"pd-b1 pd-t",id:"_mx_list_"+i},g)],f.push(t("div",l,_))}return c="pd-bT pd-B pd-5 pd-1 pd-N",c+=b?" pd-bW":" pd-bU",n=[t("div",{id:"_mx_dd_"+i,tabindex:!b&&0,class:c},f)],t(i,0,n)},init(){p._a3(),this.on("destroy",(()=>{p._a4(this),p._a5()}))},assign(e){let t=e.selected,i=e.textKey||"",s=e.valueKey||"",a=e.iconKey||"",l=e.emptyText||"",d=e.disabled+""=="true",o=e.list;o=x(o)?o():o||[],o=o.slice();let p=c(o,s);if(l)if(i&&s){if(!p[""]){let e={};e[i]=l,e[s]="",o.unshift(e),p[""]=e}}else p[l]||(o.unshift(l),p[l]=l);t||!l||i||s||(t=l),t&&p[t]||(t=p[t]||o[0],i&&s&&(t=t[s]));let r=i&&s?p[t][i]:t,n=a?p[t][a]:"";this.set({selected:t,selectedText:r,selectedIcon:n,list:o,iconKey:a,textKey:i,valueKey:s,emptyText:l,disabled:d})},render(){this.digest()},_bi(e){return h(e,this.root)},async _x(){let e=this,t=g("_mx_dd_"+e.id);if(!t.classList.contains("pd-bY")){t.classList.add("pd-bY"),e.get("rList")||await e.digest({rList:!0}),t=g("_mx_list_"+e.id);let i=t.querySelector("li[active]");i&&i.scrollIntoViewIfNeeded&&i.scrollIntoViewIfNeeded(),p._bj(e)}},_y(){let e=this,t=g("_mx_dd_"+e.id);t.classList.contains("pd-bY")&&(t.classList.remove("pd-bY"),p._a4(e))},"_bl<click>"(){let e=this,t=g("_mx_dd_"+e.id);t.classList.contains("pd-bY")?e._y():t.classList.contains("pd-bW")||e._x()},"_bN<click>"(e){let t=this;t._y();let i=t.get("valueKey"),s=t.get("textKey"),a=t.get("iconKey"),l=t.get("selected"),d=e.params.item,o=d,p=d,r="";s&&i&&(p=d[s],o=d[i],r=d[a]),l!==o&&(t.digest({selected:o,selectedIcon:r,selectedText:p}),_(t.root,"change",{item:d,value:i?d[i]:d,text:s?d[s]:d}))}})})),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],((e,t,i)=>{let s,a,l={class:"pd-F pd-a_ pd-af pd-am pd-an pd-c pd-i pd-j"},d={class:"pd-s"},o={class:"pd-G pd-l"},p={class:"pd-F pd-H pd-I pd-a_ pd-af pd-ak pd-c pd-n pd-o"};const r=e("magix"),n=e("../../i18n/index");let{View:c,toTry:h,node:g}=r;i.exports=c.extend({tmpl:(e,t,i)=>{let r,n,c,{title:h,body:g,i18n:_}=e;return r=s?[s]:[s=t("div",{_:"_",class:"pd-al pd-c pd-k"})],n=[t(0,h)],c=[t("h5",d,n)],r.push(t("div",l,c)),c=[t(0,g)],r.push(t("div",o,c)),n=[t(0,_("ai"))],c=[t("button",{"mx5-click":i+"\x1e_bg()",class:"pd-J pd-Y pd-g pd-h",type:"button",tabindex:1,id:"_mx_o_"+i},n)],r.push(t("div",p,c)),a?r.push(a):r.push(a=t("div",{_:"a",class:"pd-aj pd-c pd-m"})),t(i,0,r)},init(e){let t=this;t._J=e.dialog,t._br=e.body,t._bs=e.title||n("ah"),t._bt=e.enter},async render(){let e=this;await e.digest({body:e._br,title:e._bs});let t=g(`_mx_o_${this.id}`);t&&t.focus()},"_bg<click>"(){let e=this;e._J.close(),e._bt&&h(e._bt)}})})),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],((e,t,i)=>{let s,a,l={class:"pd-F pd-a_ pd-af pd-am pd-an pd-c pd-i pd-j"},d={class:"pd-s"},o={class:"pd-G pd-l"},p={class:"pd-F pd-H pd-I pd-a_ pd-af pd-ak pd-c pd-n pd-o"};const r=e("magix"),n=e("../../i18n/index");let{View:c,toTry:h,node:g}=r;i.exports=c.extend({tmpl:(e,t,i)=>{let r,n,c,{title:h,body:g,i18n:_}=e;return r=s?[s]:[s=t("div",{_:"_",class:"pd-al pd-c pd-k"})],n=[t(0,h)],c=[t("h5",d,n)],r.push(t("div",l,c)),c=[t(0,g)],r.push(t("div",o,c)),n=[t(0,_("ai"))],c=[t("button",{type:"button","mx5-click":i+"\x1e_bg()",class:"pd-J pd-Y pd-g pd-h",tabindex:1,id:"_mx_o_"+i},n)],n=[t(0,_("d"))],c.push(t("button",{type:"button","mx5-click":i+"\x1e_K()",class:"pd-A pd-J pd-Y pd-g",tabindex:2},n)),r.push(t("div",p,c)),a?r.push(a):r.push(a=t("div",{_:"a",class:"pd-aj pd-c pd-m"})),t(i,0,r)},init(e){let t=this;t._J=e.dialog,t._br=e.body,t._bs=e.title||n("ah"),t._bt=e.enter,t._bu=e.cancel},async render(){let e=this;await e.digest({body:e._br,title:e._bs});let t=g(`_mx_o_${this.id}`);t&&t.focus()},"_bg<click>"(){let e=this;e._J.close(),e._bt&&h(e._bt)},"_K<click>"(){let e=this;e._J.close(),e._bu&&h(e._bu)}})})),define("gallery/mx-dialog/index",["magix"],((e,t,i)=>{let s,a;const l=e("magix");let{View:d,Vframe:o,applyStyle:p,node:r,mark:n,dispatch:c,has:h,guid:g,use:_,mix:x,attach:u,detach:m}=l;p("pd-k",".pd-bI{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;margin:25px 0;min-height:60px}.pd-bJ{opacity:.2;right:10px;top:10px}.pd-bJ:focus,.pd-bJ:hover{opacity:.5}.pd-bK{margin:auto}.pd-bL{float:right;margin:35px 10px 0 -28px}.pd-bM{background-color:#000;opacity:.4;position:fixed}.pd-bN{-webkit-animation:pd-b .3s;animation:pd-b .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.pd-bO{padding:80px 0}@-webkit-keyframes pd-b{0%{opacity:0}to{opacity:.4}}@keyframes pd-b{0%{opacity:0}to{opacity:.4}}.pd-bP{-webkit-animation:pd-c .2s;animation:pd-c .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pd-c{0%{opacity:.4}to{opacity:0}}@keyframes pd-c{0%{opacity:.4}to{opacity:0}}.pd-bQ{-ms-scroll-chaining:none;overscroll-behavior:contain;position:fixed}.pd-bR{-webkit-animation:pd-d .3s;animation:pd-d .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pd-d{0%{opacity:0;transform:translateY(80px)}to{opacity:1;transform:translateY(0)}}@keyframes pd-d{0%{opacity:0;transform:translateY(80px)}to{opacity:1;transform:translateY(0)}}.pd-bS{-webkit-animation:pd-e .2s;animation:pd-e .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pd-e{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-80px)}}@keyframes pd-e{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-80px)}}");let f=800,b=[];i.exports=d.extend({tmpl:(e,t,i)=>{let l,d,o,p,r,n,{removeClass:c,zIndex:h,width:g,closable:_}=e;return d="pd-bM pd-aa",c||(d+=" pd-bN"),l=[t("div",{style:"z-index:"+(h-1),id:"_mx_mask_"+i,class:d})],r=[],_&&(o=[s||(s=t(0,"\ue624"))],r.push(t("span",{class:"pd-J pd-_ pd-ai pd-bJ pd-bL pd-c","mx5-click":i+"\x1e_bz()"},o))),a?o=[a]:(p=[t(0,'<span class="pd-q"></span>',1)],o=[a=t("div",{_:"_",class:"pd-Y pd-bO pd-p"},p)]),r.push(t("div",{class:"pd-1 pd-ad pd-bI",id:"_mx_cnt_"+i},o)),d="pd-bK",c||(d+=" pd-bR"),n=[t("div",{id:"_mx_body_"+i,style:"width:"+g+"px",class:d},r)],l.push(t("div",{class:"pd-B pd-C pd-a_ pd-aa pd-ab pd-ac pd-bQ",style:"z-index:"+h,tabindex:0,id:"_mx_scroll_"+i},n)),t(i,0,l)},init(e){let t=this,i=t.root;t.on("destroy",(()=>{(e=>{for(let t,i=b.length-1;i>=0;i--)if(t=b[i],t.id==e.id){b.splice(i,1);break}})(t),f-=2,c(i,"_bv"),i.parentNode.removeChild(i)})),h(e,"closable")||(e.closable=!0),t.set(e),f+=2,b.push(t)},async render(){let e=this;await e.digest({zIndex:f});let t=r(`_mx_scroll_${this.id}`);t&&t.focus();let i=e.get(),s=n(e,"_aZ");e.owner.mount(r("_mx_cnt_"+e.id),i.view,i),setTimeout((()=>{s()&&e.digest({removeClass:!0})}),300)},_bw(e){let t=r("_mx_cnt_"+this.id);o.byNode(t).invoke("fire",["unload",e])},_bx(){let e,t=this.id;e=r("_mx_body_"+t),e.classList.add("pd-bS"),e=r("_mx_mask_"+t),e.classList.add("pd-bP")},"_bz<click>"(){c(this.root,"_by")},"$doc<keyup>"(e){if("Escape"==e.code){let e=b[b.length-1];e==this&&e.get("closable")&&c(this.root,"_by")}}}).static({_bB(e,t){let i=g("_mx_dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+i+'" class="pd-v"/>');let s,a=r(i),l=e.owner.mount(a,"gallery/mx-dialog/index",t),d=async()=>{if(!a._bA&&!s){let e=()=>{a._bA=1,l.invoke("_bx"),m(a,"_by",d),setTimeout((()=>{l.unmount()}),200)},t={p:0,prevent(){s=1},resolve(){t.p=1,s=0,e()},reject(){t.p=1,s=0}};await l.invoke("_bw",[t]),s||t.p||e()}};return u(a,"_by",d),a},alert(e,t,i){this.confirm(e,t,null,i,"alert")},confirm(e,t,i,s,a="confirm"){this.mxDialog("gallery/mx-dialog/"+a,{body:e,cancel:i,enter:t,title:s,modal:!0,width:300})},mxDialog(e,t){let i,s,a=this,l={view:e},d=n(this,"_J");return _(e,(()=>{let o="$dlg_"+e;if(a[o]||!d())return;a[o]=1,x(l,t),l.width||(l.width=500),l.dialog={close(){i&&c(i,"_by")}},i=a._bB(a,l);let p=()=>{delete a[o],m(i,"_bv",p),s&&s()};u(i,"_bv",p)})),{close(){i&&c(i,"_by")},whenClose(e){s=e}}}})})),define("gallery/mx-dragdrop/index",["magix"],((e,t,i)=>{const s=e("magix");let{attach:a,detach:l}=s,d=window,o=document,p=d.getComputedStyle,r=e=>{(e=d.getSelection)&&e().removeAllRanges()},n=e=>e.preventDefault(),c=["pointermove"],h=["pointerup","pointercancel"],g=["keydown","wheel","DOMMouseScroll","fullscreenchange","selectstart"],_={passive:!1},x="_bC";i.exports={ctor(){let e=this;e.on("destroy",(()=>{e._bD()}))},_bE(e,t){t||(t=x);let i=e[t];return i||(e[t]=0),e[t]++,!i},_bF(e,t){t||(t=x);let i=e[t];return i&&e[t]--,1===i},_bG(e,t){delete e[t||x]},_bD(e){let t=this;if(t._bH){let i;for(i of c)l(o,i,t._bH);for(i of h)l(o,i,t._bI);for(i of g)l(o,i,n);l(d,"blur",t._bI),delete t._bH;let s=t._bJ;s&&s(e)}},_w(e,t,i){let s=this;if(s._bD(),e){let e;for(e of(r(),s._bJ=i,s._bI=s._bD.bind(s),s._bH=e=>{t&&t(e)},c))a(o,e,s._bH);for(e of h)a(o,e,s._bI);for(e of g)a(o,e,n,_);a(d,"blur",s._bI)}},_aD(e,t){let i;if(o.elementFromPoint)for(!n._bK&&p&&(n._bK=1,n._bL=null!==o.elementFromPoint(-1,-1)),n._bL&&(e+=window.pageXOffset,t+=window.pageYOffset),i=o.elementFromPoint(e,t);i&&3==i.nodeType;)i=i.parentNode;return i},_bM:r}})),define("gallery/mx-font/align",["magix"],((e,t,i)=>{let s,a,l;const d=e("magix");d.applyStyle("pd-m",".pd-b6{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.pd-b7{background:#e0e0e0;border-radius:2px;cursor:pointer;height:20px;line-height:20px;margin:0 1px;text-align:center;width:20px}.pd-b7:hover{background:#ccc}.pd-b8,.pd-b8:hover{background:#fa742b;color:#fff}.pd-b9,.pd-b9 .pd-b7{cursor:not-allowed;opacity:.7}.pd-b9 .pd-b7,.pd-b9 .pd-b7:hover{background:#e9e9e9}.pd-b9 .pd-b8,.pd-b9 .pd-b8:hover{background:#fb955d}"),i.exports=d.View.extend({tmpl:(e,t,i)=>{let d,o,p,r,{disabled:n,i18n:c,value:h}=e;return p=[s||(s=t(0,"\ue687"))],o="pd-Z pd-b7 pd-_","flex-start"==h.hpos&&(o+=" pd-b8"),r=[t("li",{title:c("aj"),"mx5-click":i+"\x1e_ad({type:'h',v:'flex-start'})",class:o},p)],p=[a||(a=t(0,"\ue68a"))],o="pd-Z pd-b7 pd-_","center"==h.hpos&&(o+=" pd-b8"),r.push(t("li",{title:c("ak"),"mx5-click":i+"\x1e_ad({type:'h',v:'center'})",class:o},p)),p=[l||(l=t(0,"\ue686"))],o="pd-Z pd-b7 pd-_","flex-end"==h.hpos&&(o+=" pd-b8"),r.push(t("li",{title:c("al"),"mx5-click":i+"\x1e_ad({type:'h',v:'flex-end'})",class:o},p)),p=[s||(s=t(0,"\ue687"))],o="pd-Z pd-b7 pd-f pd-_","flex-start"==h.vpos&&(o+=" pd-b8"),r.push(t("li",{title:c("am"),"mx5-click":i+"\x1e_ad({type:'v',v:'flex-start'})",class:o},p)),p=[a||(a=t(0,"\ue68a"))],o="pd-Z pd-b7 pd-_ pd-f","center"==h.vpos&&(o+=" pd-b8"),r.push(t("li",{title:c("an"),"mx5-click":i+"\x1e_ad({type:'v',v:'center'})",class:o},p)),p=[l||(l=t(0,"\ue686"))],o="pd-Z pd-b7 pd-_ pd-f","flex-end"==h.vpos&&(o+=" pd-b8"),r.push(t("li",{title:c("ao"),"mx5-click":i+"\x1e_ad({type:'v',v:'flex-end'})",class:o},p)),o="pd-t pd-5 pd-b6",n&&(o+=" pd-b9"),d=[t("ul",{class:o},r)],t(i,0,d)},assign(e){return this._bO=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render(){this.digest()},"_ad<click>"(e){let t=this;if(t.get("disabled"))return;let i=t._bO,{type:s,v:a}=e.params;i[s+"pos"]=a,t._bO=i,t.digest({value:i}),d.dispatch(t.root,"input",{value:i})}})})),define("gallery/mx-font/style",["magix"],((e,t,i)=>{let s,a,l;const d=e("magix");d.applyStyle("pd-m",".pd-b6{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.pd-b7{background:#e0e0e0;border-radius:2px;cursor:pointer;height:20px;line-height:20px;margin:0 1px;text-align:center;width:20px}.pd-b7:hover{background:#ccc}.pd-b8,.pd-b8:hover{background:#fa742b;color:#fff}.pd-b9,.pd-b9 .pd-b7{cursor:not-allowed;opacity:.7}.pd-b9 .pd-b7,.pd-b9 .pd-b7:hover{background:#e9e9e9}.pd-b9 .pd-b8,.pd-b9 .pd-b8:hover{background:#fb955d}"),i.exports=d.View.extend({tmpl:(e,t,i)=>{let d,o,p,r,{disabled:n,i18n:c,value:h}=e;return p=[s||(s=t(0,"\ue749"))],o="pd-Z pd-b7 pd-_",h.styleBold&&(o+=" pd-b8"),r=[t("li",{title:c("ap"),"mx5-click":i+"\x1e_ad({key:'styleBold'})",class:o},p)],p=[a||(a=t(0,"\ue65f"))],o="pd-Z pd-b7 pd-_",h.styleItalic&&(o+=" pd-b8"),r.push(t("li",{title:c("aq"),"mx5-click":i+"\x1e_ad({key:'styleItalic'})",class:o},p)),p=[l||(l=t(0,"\ue62e"))],o="pd-Z pd-b7 pd-_",h.styleUnderline&&(o+=" pd-b8"),r.push(t("li",{title:c("ar"),"mx5-click":i+"\x1e_ad({key:'styleUnderline'})",class:o},p)),o="pd-t pd-5 pd-b6",n&&(o+=" pd-b9"),d=[t("ul",{class:o},r)],t(i,0,d)},assign(e){return this._bO=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render(){this.digest()},"_ad<click>"(e){let t=this;if(t.get("disabled"))return;let i=t._bO,{key:s}=e.params;i[s]=!i[s],t._bO=i,t.digest({value:i}),d.dispatch(t.root,"input",{value:i})}})})),define("gallery/mx-layout/column",["magix","../mx-number/index"],((e,t,i)=>{let s,a;e("../mx-number/index");let l={class:"pd-c_"};const d=e("magix");d.applyStyle("pd-n",".pd-c_{align-items:center;display:flex;margin:5px 0}.pd-ca{color:#333;flex-basis:24px;font-size:12px;text-align:right}.pd-cb,.pd-ca{cursor:pointer}.pd-cc{color:#bbb;cursor:not-allowed}"),i.exports=d.View.extend({tmpl:(e,t,i,d,o,p)=>{let r,n,c,h=[],{columns:g,disabled:_,i18n:x}=e;for(let e=g.length,a=0;a<e;a+=1){let e=g[a];c=[],c.push(t("div",{"mx5-owner":i,$:"columns",disabled:_,"mx5-input":i+"\x1e_bQ({index:"+a+"})","mx5-change":i+"\x1e_bP()",class:"pd-1 pd-a","mx5-view":"gallery/mx-number/index?value="+p(o,e.width,"_."+a+".a")+"&max=100&min=0&step=1"})),g.length>1&&(n=[s||(s=t(0,"\ue6b3"))],r="pd-_ pd-ca",_&&(r+=" pd-cc"),c.push(t("i",{title:x("as"),"mx5-click":i+"\x1e_bS({index:"+a+"})",class:r},n))),h.push(t("div",l,c))}return c=[a||(a=t(0,"\ue606"))],r="pd-_ pd-cb",(_||g.length>9)&&(r+=" pd-cc"),h.push(t("i",{title:x("at"),"mx5-click":i+"\x1e_bR()",class:r},c)),t(i,0,h)},assign(e){this.set(e)},render(){this.digest()},"_bP<change>"(e){e.stopPropagation()},"_bQ<input>"(e){let t=this.get("columns"),{index:i}=e.params;t[i].width=e.value,d.dispatch(this.root,"change")},"_bR<click>"(){if(this.get("disabled"))return;let e=this.get("columns");if(e.length>9)return;let t=0;for(let i of e)t+=i.width;if(t>=100)for(let t of e)if(t.width>10){t.width-=10;break}e.push({width:10,elements:[]}),this.digest({columns:e}),d.dispatch(this.root,"change")},"_bS<click>"(e){if(this.get("disabled"))return;let t=this.get("columns"),{index:i}=e.params;t.splice(i,1),this.digest({columns:t}),d.dispatch(this.root,"change")}})})),define("gallery/mx-layout/guage",["magix","../mx-number/index"],((e,t,i)=>{e("../mx-number/index");let s={class:"pd-cd"},a={class:"pd-ce"};const l=e("magix");l.applyStyle("pd-o",".pd-cd{align-items:center;display:flex}.pd-ce{width:30px}");let d=["au","av","aw","ax"];i.exports=l.View.extend({tmpl:(e,t,i,l,d,o)=>{let p,r,n=[],{i18n:c,titles:h,disabled:g,guage:_}=e;for(let e=0;e<4;e++)p=[t(0,c(h[e]))],r=[t("div",a,p),t("div",{"mx5-owner":i,$:"guage",disabled:g,"mx5-input":i+"\x1e_bQ({index:"+e+"})","mx5-change":i+"\x1e_bP()",class:"pd-1 pd-a","mx5-view":"gallery/mx-number/index?max=500&min=0&value="+o(d,_[e])})],n.push(t("div",s,r));return t(i,0,n)},init(){this.set({titles:d})},assign(e){let{guage:t,disabled:i}=e,s=t.split(" "),a=[];for(let e of s)a.push(parseInt(e,10));return this.set({disabled:i,guage:a}),!0},render(){this.digest()},"_bP<change>"(e){e.stopPropagation()},"_bQ<input>"(e){e.stopPropagation();let t=this.get("guage"),{index:i}=e.params;t[i]=e.value,l.dispatch(this.root,"change",{value:t.join("px ")+"px"})}})})),define("gallery/mx-menu/index",["magix","../mx-monitor/index"],((e,t,i)=>{let s,a={class:"pd-5 pd-cg"};const l=e("magix"),d=e("../mx-monitor/index");l.applyStyle("pd-p",".pd-cf{z-index:400}.pd-cg{background-color:#fff;border:1px solid #e6e6e6;box-shadow:0 1px 3px 1px rgba(0,0,0,.06);padding:2px 0}.pd-cg,.pd-ch{border-radius:2px;cursor:default}.pd-ch{height:22px;line-height:22px;margin:2px;padding:0 8px}.pd-ci{background-color:#fa742b;color:#fff}.pd-cj{background:#eee;height:1px;margin:4px 0}.pd-ck{color:#ccc;cursor:not-allowed}"),i.exports=l.View.extend({tmpl:(e,t,i,l,d,o)=>{let p,r,n,c,h,{width:g,list:_,disabled:x,textKey:u}=e;c=[];for(let e=_.length,a=0;a<e;a+=1){let e=_[a];e.spliter?s?c.push(s):c.push(s=t("li",{_:"_",class:"pd-cj"})):(n=[t(0,e[u])],r="pd-8 pd-ch ",x[e.id]&&(r+=" pd-ck"),c.push(t("li",{"mx5-pointerover":i+"\x1e_b0({d:"+(x[e.id]||0)+"})","mx5-pointerout":i+"\x1e_b0({d:"+(x[e.id]||0)+"})","mx5-click":i+"\x1e_bN({item:'"+o(d,e,"_."+a+".a")+"',d:"+(x[e.id]||0)+"})",title:e[u],class:r},n)))}return h=[t("ul",a,c)],p=[t("div",{style:"width:"+g+"px;position:absolute;left:-10000px;top:-10000px",class:"pd-cf",id:"cnt_"+i,"mx5-contextmenu":i+"\x1e_A()"},h)],t(i,0,p)},init(e){let t=this;d._a3(),t.on("destroy",(()=>{d._a4(t),d._a5()}))},assign(e){let t=this,i=e.width||140,s=e.valueKey||"id",a=e.textKey||"text";t._bT=e.list,t._bU=i,t._bV=s,t._bW=a,t._bX=e.disabled||{},t._bY=e.picked},async render(e){let t=this;await t.digest({disabled:t._bX,list:t._bT,width:t._bU,valueKey:t._bV,textKey:t._bW}),e&&this._x(e)},_bi(e){return l.inside(e,this.root)},_x(e){let t=this;if(!t._bZ){t._bZ=1;let i=l.node("cnt_"+t.id),s=i.clientWidth,a=i.clientHeight,o=e.pageX,p=e.pageY;o+s>window.innerWidth&&(o-=s,o<0&&(o=0)),p+a>window.innerHeight&&(p-=a,p<0&&(p=0)),i.style.left=o+"px",i.style.top=p+"px",d._bj(t)}},_y(){let e=this;if(e._bZ){e._bZ=!1,l.node("cnt_"+e.id).style.left="-10000px",d._a4(e)}},"_b0<pointerover,pointerout>"(e){if(e.params.d)return;let t=e.eventTarget;!l.inside(e.relatedTarget,t)&&t.classList["pointerout"==e.type?"remove":"add"]("pd-ci")},"_bN<click>"(e){if(e.params.d)return;this._y();let t=this._bY;t&&t(e.params.item)},"_A<contextmenu>"(e){e.preventDefault()}}).static({show(e,t,i){let s="ctx_"+e.id,a=l.node(s),d=a&&l.Vframe.byNode(a);d?(d.invoke("assign",[i]),d.invoke("render",[t])):(document.body.insertAdjacentHTML("beforeend",`<div id="${s}"></div>`),d=e.owner.mount(l.node(s),"gallery/mx-menu/index",i),d.invoke("_x",[t]))}})})),define("gallery/mx-monitor/index",[],((e,t,i)=>{let s=0,a=[],l=["pointerdown","keyup","touchstart","pointerstart"],d=e=>{for(let t=a.length;t--;){let i=a[t];if(i._b1)a.splice(t,1);else{let t=i._b2;"resize"!=e.type&&t._bi(e.target)||t._y()}}},o=e=>{let t=a[e.id];t&&(t._b1=!0),delete a[e.id]};i.exports={_bj(e){o(e);let t={_b2:e};a.push(t),a[e.id]=t},_a4:o,_a3(){if(!s){for(let e of l)document.addEventListener(e,d);window.addEventListener("resize",d)}s++},_a5(){if(s>0&&(s--,!s)){for(let e of l)document.removeEventListener(e,d);window.removeEventListener("resize",d)}}}})),define("gallery/mx-number/index",["magix"],((e,t,i)=>{const s=e("magix");let{node:a,View:l,applyStyle:d,has:o,mark:p,dispatch:r,isFunction:n}=s,c=Number.MAX_SAFE_INTEGER;d("pd-q",'.pd-cl{background:none;border:none;color:#333;font-size:100%;padding:0 20px 0 0}.pd-cl:focus{outline:0}.pd-cl:disabled{background:#f5f5f5;color:#999;cursor:not-allowed}.pd-cm,.pd-cn{border:2px solid #fff;border-radius:2px;height:50%;right:0;width:20px}.pd-cm:hover,.pd-cn:hover{background-color:#f0f0f0}.pd-cn{top:1px}.pd-cm{bottom:1px}.pd-co:after{border-left:4px solid transparent;border-right:4px solid transparent;bottom:0;content:"";display:block;height:0;left:0;margin:auto;position:absolute;right:0;top:0;width:0}.pd-cm:after{border-top:4px solid #ccc}.pd-cn:after{border-bottom:4px solid #ccc}.pd-cm.pd-cp,.pd-cn.pd-cp{border-color:transparent;cursor:not-allowed}.pd-cm.pd-cp:hover,.pd-cn.pd-cp:hover{background-color:transparent}');let h=e=>e.shiftKey?1:e.metaKey||e.ctrlKey?2:0;i.exports=l.extend({tmpl:(e,t,i)=>{let s,a,{disabled:l}=e;return s=[t("input",{class:"pd-B pd-C pd-R pd-cl",id:"_mx_ipt_"+i,"mx5-focusin":i+"\x1e_ci()","mx5-focusout":i+"\x1e_ck()","mx5-change":i+"\x1e_bP()","mx5-keydown":i+"\x1e_cr()",disabled:l,autocomplete:"off","mx5-input":i+"\x1e_cu()","mx5-wheel":i+"\x1e_cs()"},1)],a="pd-cn pd-M pd-co pd-5 pd-J",l&&(a+=" pd-cp"),s.push(t("span",{"mx5-click":i+"\x1e_ce({i:1})","mx5-pointerdown":i+"\x1e_cp({i:1})","mx5-contextmenu":i+"\x1e_A()",class:a})),a="pd-cm pd-M pd-co pd-5 pd-J",l&&(a+=" pd-cp"),s.push(t("span",{"mx5-click":i+"\x1e_ce()","mx5-pointerdown":i+"\x1e_cp()","mx5-contextmenu":i+"\x1e_A()",class:a})),t(i,0,s)},assign(e){let t=this,{root:i}=t;return i.classList.contains("pd-d")?(t._b3=t._cb(e.value),!1):(delete t._b3,n(e.max)&&(//!important callback with ops.props
e.max=e.max(e.props)),n(e.min)&&(e.min=e.min(e.props)),n(e.fixed)&&(e.fixed=e.fixed()),n(e.step)&&(e.step=e.step()),t._b4=+e.step||1,t._b5=e.empty,t._b6=i.hasAttribute("disabled"),t._b7=o(e,"max")?+e.max:c,t._b8=o(e,"min")?+e.min:-c,t._b9=+e.ratio||10,t._c_=+e.fixed||0,t._ca=t._cb(e.value),!0)},async render(){let{root:e}=this,t=p(this,"_aZ");await this.digest({disabled:this._b6}),t()&&!e.classList.contains("pd-d")&&this._cc()},_cc(e){let t=this;e=void 0===e?void 0===t._b3?t._ca:t._b3:e,a("_mx_ipt_"+t.id).value=e},_cb(e){let t=this;if((e=+e)||0===e){let i=t._b7,s=t._b8;e>i?e=i:e<s&&(e=s),e=+e.toFixed(t._c_)}return isNaN(e)?t._b5?"":0:e},_cd(e,t){let i=this;if(""!==e||!i._b5)return(e=i._cb(e))!==i._ca&&(t||i._cc(e),r(i.root,"input",{value:i._ca=e})),i._ca;r(i.root,"input",{value:i._ca=e})},_ce(e,t){let i=this,s=i._ca;""===s&&(s=0);let a=i._b4;if(t)if(1==t)a*=i._b9;else{let e=i._c_,t=Number((a/i._b9).toFixed(e));0!=t&&(a=t)}e?s+=a:s-=a,i._cd(s)},_cf(){let e=a("_mx_ipt_"+this.id);e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},_ch(){let e=this;e.root.classList.add("pd-d"),o(e,"_cg")||(e._cg=e._ca)},"_ci<focusin>"(){this._ch()},"_ck<focusout>"(){let e=this;e._cj||(e.root.classList.remove("pd-d"),e._cc(),e._cg!=e._ca&&r(e.root,"change",{value:e._ca}),delete e._cg)},"_ce<click>"(e){let t=this;t._b6||t._cl||(t._ce(e.params.i,h(e)),t._cf())},"_cp<pointerdown>"(e){let t=this;if(!t._b6){t._cj=1,t._ch();let i=e.params.i,s=p(this,"_cm");t._cn=setTimeout((()=>{s()&&(t._co=setInterval((()=>{s()&&(t._cl=1,t._ce(i,h(e)),t._cf())}),50))}),300)}},"_cr<keydown>"(e){if("ArrowUp"==e.code||"ArrowDown"==e.code){this._cq(e),this._ce("ArrowUp"==e.code,h(e))}},"_cs<wheel>&{passive:false}"(e){if(this.root.classList.contains("pd-d")){this._cq(e);let t=e.deltaY;this._ce(t>0,h(e))}},"_cu<input>"(e){this._ct(e);let t=e.eventTarget;this._cd(t.value,1)},"$doc<pointerup>"(){let e=this;clearTimeout(e._cn),clearInterval(e._co),delete e._cj;let t=p(this,"@:pointerup");setTimeout((()=>{t()&&delete e._cl}),0)}})})),define("gallery/mx-picture/index",["magix","../mx-dialog/index"],((e,t,i)=>{let s,a={class:"pd-P pd-Y pd-cr"};const l=e("magix"),d=e("../mx-dialog/index");let{View:o,applyStyle:p,dispatch:r}=l;p("pd-r",".pd-cq{border:1px solid #e6e6e6;border-radius:2px;margin:4px 0}.pd-cq:hover{border-color:#ccc}.pd-cr{line-height:92px}.pd-cs{border:1px solid #e6e6e6;border-radius:2px;margin:4px;width:100px}.pd-cs:hover{border-color:#fa742b}.pd-ct{background-position:50%;background-repeat:no-repeat;background-size:contain}.pd-cu{height:25px;margin:0 5px;width:100px}.pd-cv{opacity:.2;right:3px;top:2px}.pd-cv:hover{opacity:.5}.pd-cw{background:#f5f5f5;cursor:not-allowed}.pd-cw .pd-cv,.pd-cw .pd-cv:hover{opacity:.1}.pd-cw:hover{border-color:#e6e6e6}.pd-cx{border-bottom:1px solid #fa742b;margin-bottom:10px}.pd-cy{border:1px solid transparent;border-bottom:none;height:25px;line-height:25px;margin:0 5px -1px;min-width:50px;padding:0 4px}.pd-cz{background:#fff;border-color:#fa742b;border-radius:2px 2px 0 0;color:#fa742b}.pd-cA{margin:100px}"),i.exports=o.extend({tmpl:(e,t,i)=>{let l,d,o,p,r,{disabled:n,src:c,i18n:h}=e;return r=[],c?(o=[s||(s=t(0,"\ue624"))],p=[t("i",{class:"pd-M pd-_ pd-cv","mx5-click":!n&&i+"\x1e1\x1e_cx()",title:h("ay")},o)],r.push(t("div",{class:"pd-B pd-C pd-ct",style:"background-image:url('"+c+"')"},p))):(p=[t(0,h("az"))],r.push(t("div",a,p))),d="pd-cq pd-F pd-J pd-S pd-1 pd-V",n&&(d+=" pd-cw"),l=[t("div",{"mx5-click":!n&&i+"\x1e_cw()",class:d},r)],t(i,0,l)},assign(e){this.set(e)},render(){this.digest()},"_cw<click>"(){let e=this;e.mxDialog("gallery/mx-picture/list",{width:1042,done(t){e._cv(t)}})},_cv(e){r(this.root,"change",e)},"_cx<click>"(e){this._ct(e),this._cv({src:"",width:0,height:0})}}).merge(d)})),define("gallery/mx-picture/list",["magix","../../designer/service","../../i18n/index","../mx-dialog/index","../mx-toast/index"],((e,t,i)=>{let s,a,l,d={class:"pd-F pd-a_ pd-af pd-am pd-an pd-c pd-i pd-j"},o={class:"pd-s"},p={class:"pd-ae pd-l"},r={class:"pd-2 pd-W pd-Y"},n={class:"pd-a_ pd-cx"},c={class:"pd-a_ pd-cA"},h={class:"pd-L pd-a_"},g={class:"pd-8 pd-Y pd-cu"};const _=e("magix"),x=e("../../designer/service"),u=e("../../i18n/index"),m=e("../mx-dialog/index"),f=e("../mx-toast/index");let{View:b,mark:y,node:k}=_;i.exports=b.extend({tmpl:(e,t,i,_,x,u,m)=>{let f,b,y,k,w,v,{i18n:S,error:j,list:z,current:T}=e;if(f=s?[s]:[s=t("div",{_:"_",class:"pd-al pd-c pd-k"})],b=[t(0,S("aB"))],y=[t("h5",o,b)],f.push(t("div",d,y)),y=[],j)b=[t(0,j.message)],y.push(t("div",r,b));else{b=[];for(let e=z.length,s=0;s<e;s+=1){w=[t(0,z[s].title)],k="pd-cy pd-Y pd-J",s==T&&(k+=" pd-cz"),b.push(t("div",{"mx5-click":s!=T&&i+"\x1e_cA({to:"+s+"})",class:k},w))}if(w=[a||(a=t(0,"\u7f51\u7edc\u56fe\u7247"))],k="pd-cy pd-Y pd-J","network"==T&&(k+=" pd-cz"),b.push(t("div",{"mx5-click":"network"!=T&&i+"\x1e_cA({to:'network'})",class:k},w)),y.push(t("div",n,b)),"network"==T)b=[l||(l=t(0,"\u7f51\u7edc\u5730\u5740: ")),t("input",{placeholder:"\u8bf7\u7c98\u8d34/\u8f93\u5165\u7f51\u7edc\u56fe\u7247\u5730\u5740",class:"pd-A pd-T pd-U pd-a",id:"_rd_nw_"+i},1)],w=[t(0,S("c"))],b.push(t("button",{class:"pd-A pd-g pd-h","mx5-click":i+"\x1e_cB()"},w)),y.push(t("div",c,b));else{b=[];for(let e=z[T].list,s=e.length,a=0;a<s;a+=1){let s=e[a];v=[t("div",{class:"pd-C pd-ct",style:"background-image:url('"+s.src+"')"})],w=[t("div",{class:"pd-J pd-S pd-V pd-ap pd-cs","mx5-click":i+"\x1e_cz({src:'"+m(s.src)+"'})"},v)],v=[t(0,s.title)],w.push(t("div",g,v)),b.push(t("div",{title:s.title},w))}y.push(t("div",h,b))}}return f.push(t("div",p,y)),t(i,0,f)},init(e){let t=this;t._J=e.dialog,t._cy=e.done,t.set({current:0}),t.on("destroy",(()=>{f.hide()}))},render(){let e=y(this,"_aZ");(new x).all("_aw",((t,i)=>{e()&&this.digest({error:t,list:i.get("data",[])})}))},"_cz<click>"(e){let t=this,i=new Image,s=t._cy,a=e.params.src,l=y(this,"_cz");f.show("\u6b63\u5728\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8..."),i.onerror=()=>{l()&&(f.hide(),t.alert(u("aA")))},i.onload=()=>{if(l()){f.hide();let e=i.width,l=i.height;s({src:a,width:e,height:l}),t._J.close()}},i.src=a},"_cA<click>"(e){let{to:t}=e.params;this.digest({current:t})},"_bz<click>"(){this._J.close()},"_cB<click>"(){let e=k(`_rd_nw_${this.id}`),t=e.value.trim();if(t){let i=y(this,"_cz"),s=this._cy;f.show("\u6b63\u5728\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8...");let a=new Image;a.onload=()=>{i()&&(f.hide(),s({src:t,width:a.width,height:a.height}),this._J.close())},a.onerror=()=>{i()&&(e.select(),f.show("\u65e0\u6cd5\u52a0\u8f7d\u56fe\u7247\uff0c\u8bf7\u68c0\u67e5\u5730\u5740\u540e\u91cd\u8bd5~",2e3))},a.src=t}else f.show("\u8bf7\u7c98\u8d34/\u8f93\u5165\u56fe\u7247\u5730\u5740~",2e3),e.focus()},"_cC<change>"(e){}}).merge(m)})),define("gallery/mx-pointer/cursor",["magix"],((e,t,i)=>{const s=e("magix"),a=s.guid("cursor_");s.applyStyle("pd-s",".pd-cB{background:#fff;bottom:0;left:0;opacity:0;position:fixed;right:0;top:0;z-index:10000}"),i.exports={_x(e){let t=getComputedStyle(e);this._cD(t.cursor)},_cD(e){let t=s.node(a);t||(document.body.insertAdjacentHTML("beforeend",`<div class="pd-cB" id="${a}"/>`),t=s.node(a)),t.style.cursor=e,t.style.display="block"},_y(){s.node(a).style.display="none"}}})),define("gallery/mx-pointer/follower",["magix"],((e,t,i)=>{const s=e("magix");s.applyStyle("pd-t",".pd-cC{background:#fa742b;border-radius:2px;color:#fff;height:30px;left:-1000px;line-height:30px;opacity:.6;pointer-events:none;position:absolute;text-align:center;top:-1000px;width:30px;z-index:5000}.pd-cD{box-shadow:3px 3px #bb4504}");let a=s.guid("de_"),l="pd-cD";i.exports={_P(e){let t=s.node(a);t||(document.body.insertAdjacentHTML("beforeend",`<div class="pd-cC pd-_" id="${a}"/>`),t=s.node(a)),t.innerHTML=e},_x(e,t){let i=s.node(a),d=i.style,o=i.classList;d.left=e.pageX+10+"px",d.top=e.pageY+18+"px",t?o.contains(l)||i.classList.add(l):o.contains(l)&&i.classList.remove(l)},_y(){let e=s.node(a).style;e.left="-1000px",e.top="-1000px"}}})),define("gallery/mx-pointer/select",["magix"],((e,t,i)=>{const s=e("magix");s.applyStyle("pd-u",".pd-cE{border:1px dashed #fa742b;display:none;pointer-events:none;position:absolute}");let a=s.guid("set_");i.exports={_cE(){s.node(a)||document.body.insertAdjacentHTML("beforeend",`<div id="${a}" class="pd-cE"></div>`)},_P(e,t,i,l){let d=s.node(a).style;d.left=e+"px",d.top=t+"px",d.width=i+"px",d.height=l+"px",d.display="block"},_y(){s.node(a).style.display="none"}}})),define("gallery/mx-toast/index",["magix"],((e,t,i)=>{const s=e("magix");let{applyStyle:a,guid:l,node:d}=s;a("pd-v",".pd-cF{background:#0008;border-radius:5px;color:#fff;left:50%;min-width:15%;padding:6px;position:fixed;text-align:center;top:50%;transform:translate(-50%,-50%);z-index:2000}");let o,p=l("_mx_toast_");i.exports={show(e,t){let i=d(p);i||(i=document.createElement("div"),i.id=p,i.className="pd-cF pd-v",document.body.appendChild(i)),i.style.display="block",i.innerHTML=e,clearTimeout(o),t&&(o=setTimeout((()=>{this.hide()}),t))},hide(){clearTimeout(o);let e=d(p);e&&(e.style.display="none")}}})),define("gallery/mx-runner/index",["magix"],((e,t,i)=>{const s=e("magix");let a,l,{toTry:d}=s,o=e=>setTimeout(e,16),p=clearTimeout,r=requestAnimationFrame||o,n=cancelAnimationFrame||p,c=Date.now,h=[],g=[];i.exports={_aA(e,t){h.push({i:e||15,f:t,n:c()}),(()=>{if(!a){let e=()=>{for(let e,t,i=0;i<h.length;i++)e=h[i],e.r?h.splice(i--,1):(t=c(),t-e.n>=e.i&&(e.n=t,d(e.f)));h.length?a=r(e):(n(a),a=0)};a=r(e)}})()},_aB(e){for(let t,i=0;i<h.length;i++)if(t=h[i],!t.r&&t.f==e){t.r=1,t.f="";break}},_W(e,t){g.push({i:e||15,f:t,n:c()}),(()=>{if(!l){let e=()=>{for(let e,t,i=0;i<g.length;i++)e=g[i],e.r?g.splice(i--,1):(t=c(),t-e.n>=e.i&&(e.n=t,d(e.f)));g.length?l=o(e):(p(l),l=0)};l=o(e)}})()},_T(e){for(let t,i=0;i<g.length;i++)if(t=g[i],!t.r&&t.f==e){t.r=1,t.f="";break}}}})),define("i18n/index",["magix","./zh-cn"],((e,t,i)=>{const s=e("magix"),a=e("./zh-cn"),l={"zh-cn":a,zh:a},d=s.has,o=/\{(\d+)\}/g;i.exports=(e,...t)=>{let i=(s.config("lang")||navigator.language).toLowerCase();d(l,i)||(i="zh-cn");let a=l[i],p=d(a,e)?a[e]:e;return t.length&&(p=p.replace(o,((e,i,s)=>(i|=0,t.length>i?(s=t[i],d(a,s)?a[s]:s):e)))),p}})),define("i18n/zh-cn",[],((e,t,i)=>{i.exports={_:"\u5220\u9664\u8f85\u52a9\u7ebf",a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",c:"\u5e94\u7528",d:"\u53d6\u6d88",ai:"\u786e\u5b9a",aC:"\u8fd8\u539f",az:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",ag:"\u6dfb\u52a0\u914d\u8272",af:"\u79fb\u9664\u5f53\u524d\u914d\u8272",ah:"\u63d0\u793a",o:"\u67f1\u72b6\u56fe",w:"\u6298\u7ebf\u56fe",x:"\u4eea\u8868\u76d8",y:"\u997c\u56fe",v:"\u6f0f\u6597\u56fe",z:"\u56fe\u7247",E:"\u5e03\u5c40",I:"\u9875\u9762",S:"\u5e73\u94fa\u56fe",X:"\u6587\u672c",at:"\u70b9\u51fb\u6dfb\u52a0\u5217",as:"\u70b9\u51fb\u5220\u9664\u5217",aB:"\u56fe\u7247\u5e93",aA:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",h:"\u5220\u9664",ad:"\u786e\u5b9a",ao:"\u5782\u76f4\u5c45\u4e0b",ak:"\u6c34\u5e73\u5c45\u4e2d",aj:"\u6c34\u5e73\u5c45\u5de6",an:"\u5782\u76f4\u5c45\u4e2d",al:"\u6c34\u5e73\u5c45\u53f3",am:"\u5782\u76f4\u5c45\u4e0a",ap:"\u52a0\u7c97",aq:"\u659c\u4f53",ar:"\u4e0b\u5212\u7ebf",aw:"\u4e0b",ax:"\u5de6",av:"\u53f3",au:"\u4e0a",m:"\u5173\u95ed\u6240\u6709\u9762\u677f(Shift+Z)",k:"\u5173\u95ed{0}\u9762\u677f(\u6570\u5b57\u952e{1})",aD:"\u7ec4\u4ef6\u6811",aE:"\u6570\u636e\u6e90",aF:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",aG:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",aH:"\u5c55\u5f00{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",aI:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",n:"\u6253\u5f00\u6240\u6709\u9762\u677f(Shift+Z)",l:"\u6253\u5f00{0}\u9762\u677f(\u6570\u5b57\u952e{1})",aJ:"\u5c5e\u6027",aK:"\u6298\u53e0{0}\u9762\u677f(Shift+\u6570\u5b57\u952e{1})",q:"\u900f\u660e\u5ea6\uff1a",L:"\u80cc\u666f\u56fe\u7247\uff1a",M:"\u80cc\u666f\u5e73\u94fa\uff1a",r:"\u80cc\u666f\u989c\u8272\uff1a",s:"\u56fe\u8868\u6807\u9898\uff1a",F:"\u5217\u5206\u914d\uff1a",t:"\u914d\u8272\uff1a",B:"\u6392\u5217\uff1a",Y:"\u5b57\u53f7\uff1a",aa:"\u6837\u5f0f\uff1a",a_:"\u6587\u5b57\u989c\u8272\uff1a",N:"\u62c9\u4f38\u94fa\u6ee1",p:"\u9ad8\uff1a",U:"\u56fe\u7247\u9ad8\uff1a",aL:"\u8fd8\u539f\u5c3a\u5bf8\uff1a",T:"\u56fe\u7247\u5bbd\uff1a",A:"\u56fe\u7247\uff1a",Z:"\u5b57\u95f4\u8ddd\uff1a",u:"\u9501\u5b9a\u7f16\u8f91\uff1a",G:"\u5916\u8fb9\u8ddd\uff1a",O:"\u539f\u59cb\u5c3a\u5bf8",V:"\u6c34\u5e73(%)\uff1a",W:"\u5782\u76f4(%)\uff1a",H:"\u5185\u8fb9\u8ddd\uff1a",K:"\u6700\u5c0f\u9ad8\u5ea6\uff1a",J:"\u6700\u5c0f\u5bbd\u5ea6\uff1a",P:"\u6a2a\u5411\u5e73\u94fa",Q:"\u5782\u76f4\u5e73\u94fa",R:"\u53cc\u5411\u5e73\u94fa",C:"\u5782\u76f4\u955c\u50cf\uff1a",D:"\u6c34\u5e73\u955c\u50cf\uff1a",ab:"\u5185\u5bb9\uff1a",aM:"\u7c7b\u578b\uff1a",j:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",ac:"\u6e05\u9664\u989c\u8272",ay:"\u6e05\u9664\u56fe\u7247",b:"\u7f16\u8f91\u533a\u6570\u636e",g:"\u6388\u6743\u6216\u529f\u80fd\u5b9a\u5236\u8bf7\u8054\u7cfb\u5fae\u4fe1:qq84685009\u3002&copy;2018-"+(new Date).getFullYear(),e:"\u901a\u7528\u9875\u9762\u8bbe\u8ba1\u5668",f:"\u7cfb\u7edf\u6b63\u5fd9...",i:"\u64a4\u9500(Ctrl+Z)"}})),define("panels/index",["magix"],((e,t,i)=>{const s=e("magix");let a=[{title:"aD",icon:"&#xe7ef;",show:!0,left:30,top:90,width:200,height:145,resizeY:!0,key:1,id:"p-elements",view:"panels/elements/index"},{title:"aJ",icon:"&#xe7a1;",width:240,height:145,right:10,top:90,key:2,show:!0,resizeY:!0,id:"p-props",view:"panels/props/index"}],l=s.toMap(a,"id");i.exports={_ag(){let e=!0;for(let t of a){if(!l[t.id]._){e=!1;break}}return e},_ah(){for(let e of a)this._cZ(e.id,!0);s.State.fire("p")},_ai(){for(let e of a)this._c0(e.id,!0);s.State.fire("p")},_af(){for(let e of a)e.show&&this._c0(e.id,!0);s.State.fire("p")},_c0(e,t){let i=l[e];if(!i._){if(i._=1,i.eId)s.node(i.eId).style.display="block";else{i.eId=s.guid("panel_");let e=s.node(s.config("rootId"));e.insertAdjacentHTML("beforeend",`<div id="${i.eId}"></div>`);let t=s.Vframe.byNode(e);i.close=()=>{this._cZ(i.id)},t.mount(s.node(i.eId),"panels/panel",i)}if(!t){s.State.fire("p"),s.Vframe.byNode(s.node(i.eId)).invoke("_x")}}},_cZ(e){let t=l[e];if(t._){t._=0;let e=s.node(t.eId);e.style.display="none",s.State.fire("p"),s.Vframe.byNode(e).invoke("_y")}},_ab(e){l[e]._?this._cZ(e):this._c0(e)},_aa(e){let t=l[e];if(t._){let e=s.node(t.eId);s.Vframe.byNode(e).invoke("_c1")}},_a_:()=>a}})),define("panels/panel",["magix","../gallery/mx-pointer/cursor","../gallery/mx-dragdrop/index"],((e,t,i)=>{let s,a,l={class:"pd-4 pd-5 pd-cS"},d={class:"pd-_ pd-cQ pd-w"},o={class:"pd-0 pd-C pd-a_ pd-af"};const p=e("magix"),r=e("../gallery/mx-pointer/cursor"),n=e("../gallery/mx-dragdrop/index");let{node:c,applyStyle:h,View:g}=p;h("pd-x",".pd-cQ{font-size:12px}.pd-cR{background:#fffe;box-shadow:0 2px 4px 0 rgba(0,0,0,.3);position:absolute}.pd-cS{background:#fa742b;color:#fff;font-size:12px;height:18px;line-height:18px}.pd-cT{cursor:move;padding:0 5px;width:calc(100% - 36px)}.pd-cU{align-items:center;border-radius:2px;cursor:pointer;display:inline-flex;font-size:11px;height:14px;justify-content:center;margin:0 1px;width:16px}.pd-cU:hover{background:#bb4504}.pd-cV{overflow:hidden;transition:height .25s}.pd-cW{transition:none}.pd-cX{float:left;overflow:auto;width:calc(100% - 2px)}.pd-cY{cursor:ew-resize;float:right;width:2px}.pd-cZ,.pd-cY{background:#fafafa}.pd-cZ{cursor:ns-resize;height:2px}");let _=[],x={_bj(e){_.push(e)},_a4(e){for(let t=_.length;t--;)if(_[t]==e){_.splice(t,1);break}this._c2()},_c2(){for(let e=_.length;e--;)_[e]._c3(300+e)},_c4(e){if(_[_.length-1]!=e){for(let t=_.length;t--;)if(_[t]==e){_.splice(t,1);break}_.push(e),this._c2()}}};i.exports=g.extend({tmpl:(e,t,i)=>{let p,r,n,c,h,g,_,{width:x,left:u,right:m,top:f,zIndex:b,i18n:y,icon:k,title:w,shrink:v,key:S,height:j,resizeX:z,view:T,resizeY:Y}=e;return n=[t(0,k,1)],c=[t("i",d,n),t(0,y(w))],g=[t("div",{class:"pd-Z pd-cT",title:y("aF"),"mx5-pointerdown":i+"\x1e1\x1e_c6()"},c)],n=[s||(s=t(0,"\ue73a"))],h="pd-_ pd-cU",v&&(h+=" pd-x"),c=[t("i",{"mx5-click":i+"\x1e_c1()",title:y(v?"aH":"aK",w,S),class:h},n)],n=[a||(a=t(0,"\ue712"))],c.push(t("i",{class:"pd-_ pd-cU","mx5-click":i+"\x1e_bz()",title:y("k",w,S)},n)),g.push(t("div",o,c)),_=[t("div",l,g)],g=[],g.push(t("div",{"mx5-owner":i,style:"width:"+(z?"calc(100% - 2px)":"100%"),class:"pd-5 pd-6 pd-7 pd-C pd-cX","mx5-view":T})),z||g.push(t("div",{class:"pd-5 pd-C pd-cY",title:y("aG"),"mx5-pointerdown":i+"\x1e1\x1e_a1({w:1})"})),_.push(t("div",{class:"pd-cV",id:"c_"+i,style:"height:"+(v?0:`calc(100vh - ${j}px)`)},g)),h="pd-cZ pd-5",!v&&Y||(h+=" pd-3"),_.push(t("div",{title:y("aI"),"mx5-pointerdown":i+"\x1e\x1e_a1({h:1})",class:h})),r="width:"+x+"px;",r+=0===u||u?"left:"+u:"right:"+m,r+="px;top:"+f+"px;z-index:"+b,p=[t("div",{class:"pd-cR",id:"p_"+i,"mx5-pointerdown":i+"\x1e_c7()",style:r},_)],t(i,0,p)},init(e){x._bj(this),this.on("destroy",(()=>{x._a4(this)})),this._c5=e.close,this.set({icon:e.icon,title:e.title,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,view:e.view,key:e.key,resizeX:e.resizeX,resizeY:e.resizeY})},render(){this.digest({zIndex:300+_.length})},"_c6<pointerdown>"(e){let t=c("p_"+this.id).style,i=this.get("left"),s=this.get("width"),a=0;void 0===i&&(a=1,i=this.get("right"));let l=this.get("top"),d=a?"right":"left",o=0,p=e.eventTarget;this._w(e,(n=>{o||(o=1,r._x(p));let c=(a?e.pageX-n.pageX:n.pageX-e.pageX)+i;c<0?c=0:c+s>window.innerWidth&&(c=window.innerWidth-s);let h=n.pageY-e.pageY+l;h<0?h=0:h+18>window.innerHeight&&(h=window.innerHeight-18),t[d]=c+"px",t.top=h+"px",this.set({[d]:c,top:h})}),(()=>{r._y()}))},"_a1<pointerdown>"(e){let{w:t}=e.params,i=this.get("width"),s=this.get("height"),a=this.get("right"),l=c("c_"+this.id);l.classList.add("pd-cW");let d=l.style,o=c("p_"+this.id).style,p=0,n=e.eventTarget;this._w(e,(l=>{if(p||(p=1,r._x(n)),t){let t=l.pageX-e.pageX;t+i<100&&(t=100-i);let d=t+i;o.width=d+"px",(a||0===s)&&(o.right=a-t+"px",this.set({right:a-t})),this.set({width:d})}else{let t=e.pageY-l.pageY+s;d.height=`calc(100vh - ${t}px)`,this.digest({height:t})}}),(()=>{r._y(),l.classList.remove("pd-cW")}))},_c3(e){c("p_"+this.id).style.zIndex=e},"_c7<pointerdown>"(){x._c4(this)},_x(){x._c4(this)},_y(){},_c1(){this.digest({shrink:!this.get("shrink")})},"_c1<click>"(){this.digest({shrink:!this.get("shrink")})},"_bz<click>"(){let e=this._c5;e&&p.toTry(e)}}).merge(n)})),define("panels/elements/branch",["magix","../../designer/stage-selection","../../designer/stage-elements","../../designer/history"],((e,t,i)=>{let s,a,l={class:"pd-cH"},d={class:"pd-_ pd-y"};const o=e("magix"),p=e("../../designer/stage-selection"),r=e("../../designer/stage-elements"),n=e("../../designer/history");let c=o.guid("rp_"),h={_cE(){o.node(c)||document.body.insertAdjacentHTML("beforeend",`<div class="pd-cN" id="${c}"></div>`)},_x(e){let t=o.node(c).style,i=e.getBoundingClientRect();t.left=i.left+"px",t.top=i.top+"px",t.width=i.width+"px",t.height=i.height+"px"},_y(){o.node(c).style.left="-10000px"},_cS(){this._cR=setTimeout((()=>{h._y()}),100)},_cT(){clearTimeout(this._cR)}};i.exports=o.View.extend({tmpl:(e,t,i,o,p,r)=>{let n,c,h,g,_=[],{elements:x,selectedId:u,i18n:m,locked:f}=e;for(let e=x.length,b=0;b<e;b+=1){let e=x[b];if(g=[],h=[],"layout"==e.role?(c=[s||(s=t(0,"\ue63b"))],n="pd-_ pd-cK",e.closed&&(n+=" pd-cL"),h.push(t("i",{role:"icon",class:n},c))):a?h.push(a):h.push(a=t("i",{_:"_",class:"pd-cJ"})),c=[t(0,e.ctrl.icon,1)],h.push(t("i",d,c)),c=[t(0,m(e.ctrl.title))],h.push(t("span",0,c)),n="pd-cI",e.id==u&&(e.props.locked?n+=" pd-cP":n+=" pd-cO"),g.push(t("div",{"mx5-click":i+"\x1e_cU({element:'"+r(p,e,"_."+b+".a")+"'})","mx5-pointerover":i+"\x1e_cX({element:'"+r(p,e,"_."+b+".a")+"'})","mx5-pointerout":i+"\x1e_cY()",class:n},h)),"layout"==e.role)for(let s=e.props.columns,a=s.length,l=0;l<a;l+=1){let a=s[l];n="pd-cM",e.closed&&(n+=" pd-3"),g.push(t("div",{"mx5-owner":i,$:"elements,locked","mx5-view":"panels/elements/branch?elements="+r(p,a.elements,"_."+b+".b."+l+".c")+"&locked="+r(p,[f,e.props.locked,f||e.props.locked],"d."+b+".e")+"&selectedId="+o(u),class:n}))}_.push(t("div",l,g))}return t(i,0,_)},init(){h._cE()},assign(e){this.set(e)},render(){this.digest()},"_cU<click>"(e){let{element:t}=e.params,i=this.get("selectedId"),s=this.get("elements"),a=e.target.getAttribute("role");if("layout"==t.ctrl.role&&"icon"==a)return t.closed=!t.closed,void this.digest({elements:s});t.id!=i&&(p._ad(t),n._s(),r._aG(t.id))},"_cV<click>"(e){let t=this.get("elements"),{element:i}=e.params;i.closed=!i.closed,this.digest({elements:t})},"_cW<click>"(e){let{element:t}=e.params;p._ad(t),r._aG(t.id)},"_cX<pointerover>"(e){if(!o.inside(e.relatedTarget,e.eventTarget)){h._cT();let{element:t}=e.params,i=o.node(t.id);i&&h._x(i)}},"_cY<pointerout>"(e){o.inside(e.relatedTarget,e.eventTarget)||h._cS()}})})),define("panels/elements/index",["magix","./branch"],((e,t,i)=>{e("./branch");let s={class:"pd-5 pd-cG"};const a=e("magix");a.applyStyle("pd-w",".pd-cG{padding:4px}.pd-cH{padding-left:4px}.pd-cI{align-items:center;border-radius:2px;cursor:pointer;display:inline-flex;height:22px;padding-right:12px;transition:opacity .25s}.pd-cI:hover{background:#eee;opacity:.6}.pd-cJ{display:inline-block;height:16px;width:16px}.pd-cK{transform:rotate(90deg);transition:transform .25s}.pd-cL{transform:rotate(0deg)}.pd-cM{margin-left:12px}.pd-cN{background:#fa742b;opacity:.4;position:absolute}.pd-cO,.pd-cO:hover{background-color:#fa742b;color:#fff;opacity:.9}.pd-cP,.pd-cP:hover{background-color:#ccc;color:#fff;opacity:.9}"),i.exports=a.View.extend({tmpl:(e,t,i,a,l,d)=>{let o,p,{elements:r,selectedId:n}=e;return p=[t("div",{"mx5-owner":i,$:"elements","mx5-view":"panels/elements/branch?elements="+d(l,r,"_")+"&selectedId="+a(n)})],o=[t("div",s,p)],t(i,0,o)},init(){let e=this._cF(this.render.bind(this),100);a.State.on("b",e),a.State.on("_",e),a.State.on("m",e),a.State.on("o",e)},render(){let e=a.State.get("_Z"),t=a.State.get("_0"),i="";t&&t.length&&(i=t[0].id),this.digest({selectedId:i,elements:e})}})})),define("panels/props/element",["magix","../../designer/props","../../designer/history","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-layout/column","gallery/mx-layout/guage","gallery/mx-color/series","gallery/mx-font/style","gallery/mx-font/align","gallery/mx-picture/index","gallery/mx-dropdown/index"],((e,t,i)=>{let s,a;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-layout/column"),e("gallery/mx-layout/guage"),e("gallery/mx-color/series"),e("gallery/mx-font/style"),e("gallery/mx-font/align"),e("gallery/mx-picture/index"),e("gallery/mx-dropdown/index");let l={class:"pd-c0 pd-t"},d={class:"pd-c1"},o={class:"pd-c2"},p={class:"pd-c6 pd-r"},r={checked:"checked"},n={value:"value"};const c=e("magix"),h=e("../../designer/props"),g=e("../../designer/history");i.exports=c.View.extend({tmpl:(e,t,i,c,h,g,_)=>{let x,u,m,f,b,y,k,{elements:w,i18n:v,props:S}=e,j=w[0];k=[],m=[t(0,v("aM"))],f=[t("span",o,m)],m=[t(0,v(j.ctrl.title))],f.push(t("span",0,m)),k.push(t("li",d,f));for(let e=j.ctrl.props,l=e.length,d=0;d<l;d+=1){let l=e[d];if(l.type==S._al)s?k.push(s):k.push(s=t("li",{_:"_",class:"pd-9"}));else{let e=j.props[l.key];l._a2&&!l._a2(j.props)||(f=[],m=[t(0,v(l.tip))],f.push(t("span",o,m)),l.type==S._aj?(y="gallery/mx-number/index?value="+g(h,e,"_.0.a."+l.key+".b"),null!=(x=l.max)&&(y+="&max="+c(x)),null!=(x=l.step)&&(y+="&step="+c(x)),null!=(x=l.fixed)&&(y+="&fixed="+c(x)),null!=(x=l.min)&&(y+="&min="+c(x)),f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-1 pd-a pd-c3",disabled:null!=(x=j.props.locked)&&x,"mx5-input":i+"\x1e_c8({key:'"+_(l.key)+"',use:'value',element:'"+g(h,j,"_.0.c")+"'})","mx5-view":y}))):l.type==S._ak?f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-input":i+"\x1e_c8({key:'"+_(l.key)+"',use:'color',element:'"+g(h,j,"_.0.c")+"'})","mx5-view":"gallery/mx-color/index?clear="+c(l.clear)+"&color="+g(h,e,"_.0.a."+l.key+".b")+"&align=right&disabled="+c(j.props.locked)+"&alpha="+c(l.alpha)})):l.type==S._am?(m=[t("input",{class:"pd-c7",type:"checkbox",checked:null!=(x=j.props[l.key])&&x,"mx5-change":i+"\x1e_c8({key:'"+_(l.key)+"',native:'checked',element:'"+g(h,j,"_.0.c")+"'})"},1,r)],a?m.push(a):m.push(a=t("i",{_:"a",class:"pd-c8"})),f.push(t("label",p,m))):l.type==S._an?f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-change":i+"\x1e_c8({key:'"+_(l.key)+"',element:'"+g(h,j,"_.0.c")+"'})","mx5-view":"gallery/mx-layout/column?columns="+g(h,e,"_.0.a."+l.key+".b")+"&disabled="+g(h,j.props.locked,"_.0.d")})):l.type==S._ao?f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-change":i+"\x1e_c8({key:'"+_(l.key)+"',use:'value',element:'"+g(h,j,"_.0.c")+"'})","mx5-view":"gallery/mx-layout/guage?guage="+g(h,e,"_.0.a."+l.key+".b")+"&disabled="+g(h,j.props.locked,"_.0.d")})):l.type==S._av?f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-change":i+"\x1e_c8({key:'"+_(l.key)+"',element:'"+g(h,j,"_.0.c")+"'})","mx5-view":"gallery/mx-color/series?colors="+g(h,e,"_.0.a."+l.key+".b")+"&multi="+g(h,l.multi,"_.0.e."+d+".f")+"&disabled="+g(h,j.props.locked,"_.0.d")})):l.type==S._ar?f.push(t("textarea",{class:"pd-b pd-c3 pd-c4 pd-e",disabled:j.props.locked,"mx5-input":i+"\x1e_c8({key:'"+_(l.key)+"',native:'value',element:'"+g(h,j,"_.0.c")+"'})",value:e},0,n)):l.type==S._au?f.push(t("input",{class:"pd-a pd-c3",disabled:j.props.locked,"mx5-input":i+"\x1e_c8({key:'"+_(l.key)+"',native:'value',element:'"+g(h,j,"_.0.c")+"'})",value:e},1,n)):l.type==S._ap?f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-input":i+"\x1e_c8({element:'"+g(h,j,"_.0.c")+"'})","mx5-view":"gallery/mx-font/style?disabled="+g(h,j.props.locked,"_.0.d")+"&value="+g(h,j.props,"_.0.g")})):l.type==S._aq?f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-input":i+"\x1e_c8({element:'"+g(h,j,"_.0.c")+"'})","mx5-view":"gallery/mx-font/align?disabled="+g(h,j.props.locked,"_.0.d")+"&value="+g(h,j.props,"_.0.g")})):l.type==S._as?f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-change":i+"\x1e_c8({key:'"+_(l.key)+"',use:'src',element:'"+g(h,j,"_.0.c")+"',write:'"+g(h,l.write,"_.0.e."+d+".h")+"'})","mx5-view":"gallery/mx-picture/index?src="+c(e)+"&disabled="+g(h,j.props.locked,"_.0.d")})):l.type==S._c9?(m=[t(0,v("aN"))],f.push(t("button",{class:"pd-g pd-h",disabled:j.props.locked,"mx5-click":i+"\x1e_d_({key:'"+_(l.key)+"',element:'"+g(h,j,"_.0.c")+"'})"},m))):l.type==S._at&&f.push(t("div",{"mx5-owner":i,$:"elements",class:"pd-c3","mx5-change":i+"\x1e_c8({key:'"+_(l.key)+"',use:'value',element:'"+g(h,j,"_.0.c")+"'})","mx5-view":"gallery/mx-dropdown/index?selected="+c(e)+"&list="+g(h,l.items,"_.0.e."+d+".i")+"&textKey=text&valueKey=value"})),b="pd-c1",l._aW&&(b+=" pd-c5"),k.push(t("li",{class:b},f)))}}return u=[t("ul",l,k)],t(i,0,u)},init(){let e=this._cF(this.render.bind(this),30);c.State.on("m",e),c.State.on("o",e),c.State.on("_",e)},render(){let e=c.State.get("_0");e.length>0&&this.digest({props:h,elements:e})},"_c8<input,change>"(e){let{key:t,use:i,element:s,native:a,write:l}=e.params;if(i||a){let{props:d}=s,o=e.eventTarget,p=a?o[a]:e[i];l&&(p=l(p,d,e)),d[t]=p}c.State.fire("o");let d=c.node(s.id),o=c.Vframe.byNode(d);o&&o.invoke("_P",[s]),g._s("_"+t,500)}})})),define("panels/props/index",["magix","./element","./page"],((e,t,i)=>{e("./element"),e("./page");const s=e("magix");s.applyStyle("pd-y",'.pd-c0{min-width:200px;padding:4px}.pd-c1{align-items:center;display:flex;line-height:28px}.pd-c2{text-align:right;width:80px}.pd-c3{width:140px}.pd-c4{height:90px}.pd-c5{align-items:flex-start}.pd-c6{align-items:center;cursor:pointer;display:flex}.pd-c7{position:absolute;visibility:hidden}.pd-c8{background:#ccc;border-radius:22px;display:inline-block;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:32px}.pd-c8:before{background:#fff;border-radius:50%;content:"";height:12px;left:0;margin:2px;position:absolute;transition:all .25s;width:12px}.pd-c7:checked+.pd-c8{background:#fa742b}.pd-c7:checked+.pd-c8:before{left:100%;margin-left:-14px}.pd-c7:disabled+.pd-c8{background:#e6e6e6;cursor:not-allowed}'),i.exports=s.View.extend({tmpl:(e,t,i)=>{let s,{elements:a}=e,l=1==a.length;return s=[t("div",{"mx5-owner":i,class:!l&&"pd-3","mx5-view":"panels/props/element"}),t("div",{"mx5-owner":i,class:l&&"pd-3","mx5-view":"panels/props/page"})],t(i,0,s)},init(){let e=this._cF(this.render.bind(this),30);s.State.on("m",e),s.State.on("_",e)},render(){this.digest({elements:s.State.get("_0")})}})})),define("panels/props/page",["magix","../../designer/history","../../designer/props","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-picture/index","gallery/mx-dropdown/index"],((e,t,i)=>{let s;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-picture/index"),e("gallery/mx-dropdown/index");let a={class:"pd-c0 pd-t"},l={class:"pd-c1"},d={class:"pd-c2"};const o=e("magix"),p=e("../../designer/history"),r=e("../../designer/props");i.exports=o.View.extend({tmpl:(e,t,i,o,p,r,n)=>{let c,h,g,_,x,u,m,{i18n:f,ctrl:b,props:y,page:k}=e;m=[],g=[t(0,f("aM"))],_=[t("span",d,g)],g=[t(0,f(b.title))],_.push(t("span",0,g)),m.push(t("li",l,_));for(let e=b.props,a=e.length,l=0;l<a;l+=1){let a=e[l];a.type==y._al?s?m.push(s):m.push(s=t("li",{_:"_",class:"pd-9"})):a._a2&&!a._a2(k)||(_=[],g=[t(0,f(a.tip))],_.push(t("span",d,g)),a.type==y._aj?(u="gallery/mx-number/index?value="+r(p,k[a.key],"_."+l+".a"),null!=(c=a.max)&&(u+="&max="+o(c)),null!=(c=a.step)&&(u+="&step="+o(c)),null!=(c=a.fixed)&&(u+="&fixed="+o(c)),null!=(c=a.min)&&(u+="&min="+o(c)),_.push(t("div",{"mx5-owner":i,$:"page,ctrl",class:"pd-1 pd-a pd-c3","mx5-input":i+"\x1e_c8({key:'"+n(a.key)+"',use:'value'})","mx5-view":u}))):a.type==y._ak?(u="gallery/mx-color/index?color="+r(p,k[a.key],"_."+l+".a")+"&align=right",null!=(c=a.alpha)&&(u+="&alpha="+o(c)),_.push(t("div",{"mx5-owner":i,$:"page,ctrl",clear:a.clear,class:"pd-c3","mx5-input":i+"\x1e_c8({key:'"+n(a.key)+"',use:'color'})","mx5-view":u}))):a.type==y._as?_.push(t("div",{"mx5-owner":i,$:"ctrl",class:"pd-c3","mx5-change":i+"\x1e_c8({key:'"+n(a.key)+"',use:'src',write:'"+r(p,a.write,"b."+l+".c")+"'})","mx5-view":"gallery/mx-picture/index?src="+o(k[a.key])})):a.type==y._at&&_.push(t("div",{"mx5-owner":i,$:"ctrl",class:"pd-c3","mx5-change":i+"\x1e_c8({key:'"+n(a.key)+"',use:'value'})","mx5-view":"gallery/mx-dropdown/index?selected="+o(k[a.key])+"&list="+r(p,a.items,"b."+l+".d")+"&textKey=text&valueKey=value"})),x="pd-c1",a._aW&&(x+=" pd-c5"),m.push(t("li",{class:x},_)))}return h=[t("ul",a,m)],t(i,0,h)},init(){let e=this.render.bind(this);o.State.on("_",e),o.State.on("a",e)},render(){this.digest({props:r,ctrl:o.State.get("_ae"),page:o.State.get("_Y")})},"_c8<input,change>"(e){let{key:t,use:i,write:s}=e.params,a=o.State.get("_Y");a[t]=e[i],s&&s(a,e),o.State.fire("a"),p._s("a",500)}})})),define("elements/index",["magix","./chart-bar/designer","./chart-funnel/designer","./chart-line/designer","./chart-meter/designer","./chart-pie/designer","./image/designer","./layout/designer","./page/designer","./repeat/designer","./text/designer"],((e,t,i)=>{const s=e("magix"),a=e("./chart-bar/designer"),l=e("./chart-funnel/designer"),d=e("./chart-line/designer"),o=e("./chart-meter/designer"),p=e("./chart-pie/designer"),r=e("./image/designer"),n=e("./layout/designer"),c=e("./page/designer"),h=e("./repeat/designer");let g=[n,{spliter:1},e("./text/designer"),r,h,{spliter:1},d,p,o,a,l],_=[];for(let e of g)if(e.spliter||e.subs){if(e.subs)for(let t of e.subs)_.push(t)}else _.push(e);let x=s.toMap(_,"role");i.exports={_O:()=>g,_7:()=>c,_8(e){let t={},i=e=>{for(let a of e){let e=x[a.role];if(a.id||(a.id=s.guid("e_")),a.ctrl=e,t[a.id]=a,"layout"==a.role)for(let e of a.props.columns)i(e.elements)}};return i(e),{elements:e,map:t}}}})),define("elements/normal",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","../designer/history"],((e,t,i)=>{const s=e("magix"),a=e("../gallery/mx-dragdrop/index"),l=e("../gallery/mx-pointer/cursor"),d=e("../designer/history");let{State:o,has:p,applyStyle:r,View:n}=s;r("pd-h",".pd-bb{pointer-events:none}.pd-bc{display:flex}.pd-bd{background:#0000;bottom:0;left:0;position:absolute;right:0;top:0}.pd-be,.pd-bf{border:1px solid #fa742b}.pd-bf{border-color:#999}.pd-bg{border:1px dotted #ddd;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pd-bh{border-style:dashed}.pd-bi{background-color:#fa742b;border-radius:2px;cursor:ns-resize;height:5px;left:calc(50% - 20px);margin-top:-3px;position:absolute;width:40px;z-index:1}"),i.exports=n.extend({tmpl:(e,t,i,s,a,l)=>{let d,o=[],{element:p,view:r,selected:n}=e,c=p.props,h=p.ctrl;return d="pd-bg",c.locked&&(d+=" pd-bh"),"layout"==h.role?d+=" pd-bc":d+=" pd-bb",o.push(t("div",{"mx5-owner":i,$:"element","mx5-view":r+"?element="+l(a,p,"_")+"&props="+l(a,c,"a"),id:"entity_"+i,class:d})),d="pd-bd","layout"==h.role&&(d+=" pd-bb"),n&&(c.locked?d+=" pd-bf":d+=" pd-be"),o.push(t("div",{class:d})),!c.locked&&n&&h._aV&&h._aV.height&&o.push(t("div",{class:"pd-bi","mx5-pointerdown":i+"\x1e_a1()"})),t(i,0,o)},_a0(){let e=o.get("_9"),t=o.get("_0").length,i=this.get().element.id;this.set({selected:p(e,i),count:t})},assign(e){return this.set(e),this._a0(),!0},render(){this.digest()},_P(e){this.digest({element:e})},"_a1<pointerdown>"(e){if(!e._aN){e._aN=1;let t=0,i=e.eventTarget,s=this.get("element"),{props:a}=s,p=a.height,r=o.get("_c");o.fire("n",{show:1}),this._w(e,(d=>{t||(t=1,l._x(i));let n=(d.pageY-e.pageY)/r+p;n<0&&(n=0),a.height=n,this._P(s),o.fire("o")}),(()=>{t&&(l._y(),d._s()),o.fire("n")}))}}}).merge(a)})),define("elements/chart-bar/designer",["../../designer/props","../normal"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../normal");i.exports=a.extend({ctor(){this.set({view:"elements/chart-bar/index"})}}).static({role:"chart-bar",title:"o",icon:"&#xe603;",_aV:{height:1},_ac:()=>({background:"",alpha:1,height:300,title:"",locked:!1,colors:["#FA742B"]}),props:[{tip:"p",key:"height",type:s._aj,min:0,json:1},{tip:"q",key:"alpha",type:s._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"r",type:s._ak,key:"background",alpha:!0,clear:!0,json:1},{tip:"s",key:"title",type:s._au,json:1},{tip:"t",key:"colors",type:s._av,json:1,_aW:1,encode(e,t){e.colors=t.colors.slice()}},{type:s._al},{tip:"u",key:"locked",type:s._am,free:!0}]})})),define("elements/chart-bar/index",["magix","../provider/echarts"],((e,t,i)=>{const s=e("magix"),a=e("../provider/echarts");i.exports=s.View.extend({tmpl:(e,t,i)=>{let s,a,{props:l,error:d}=e;return a="height:"+l.height+"px;opacity:"+l.alpha+";",l.background&&(a+="background:"+l.background+";"),s=[t("div",{class:"pd-ao","data-tip":d||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6...",id:"chart_"+i,style:a})],t(i,0,s)},assign(e){this.set(e)},_aY(){if(!this._aX){let e=s.node("chart_"+this.id);this._aX=echarts.init(e),this.on("destroy",(()=>{this._aX.dispose()})),this._aX.setOption({tooltip:{trigger:"axis"},xAxis:{data:[1,2,3,4,5]},yAxis:{type:"value"},series:[{data:[120,300,400,220,40],type:"bar"}]},!0),e.dataset.tip=""}this._aX.resize()},async render(){let e=s.mark(this,"_aZ");await this.digest();try{if(await a(),e()){let e=this.get("props");this._aY();let t={title:{text:e.title}};e.colors&&e.colors.length&&(t.color=e.colors),this._aX.setOption(t)}}catch(t){e()&&this.digest({error:t})}}})})),define("elements/chart-funnel/designer",["../../designer/props","../normal"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../normal");i.exports=a.extend({ctor(){this.set({view:"elements/chart-funnel/index"})}}).static({role:"chart-funnel",title:"v",icon:"&#xe635;",_aV:{height:1},_ac:()=>({background:"",alpha:1,height:300,title:"",locked:!1,colors:["#FA742B"]}),props:[{tip:"p",key:"height",type:s._aj,min:0,json:1},{tip:"q",key:"alpha",type:s._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"r",type:s._ak,key:"background",alpha:!0,clear:!0,json:1},{tip:"s",key:"title",type:s._au,json:1},{tip:"t",key:"colors",type:s._av,json:1,_aW:1,multi:1,encode(e,t){e.colors=t.colors.slice()}},{type:s._al},{tip:"u",key:"locked",type:s._am,free:!0}]})})),define("elements/chart-funnel/index",["magix","../provider/echarts"],((e,t,i)=>{const s=e("magix"),a=e("../provider/echarts");i.exports=s.View.extend({tmpl:(e,t,i)=>{let s,a,{props:l,error:d}=e;return a="height:"+l.height+"px;opacity:"+l.alpha+";",l.background&&(a+="background:"+l.background+";"),s=[t("div",{class:"pd-ao","data-tip":d||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6...",id:"chart_"+i,style:a})],t(i,0,s)},assign(e){this.set(e)},_aY(){if(!this._aX){let e=s.node("chart_"+this.id);this._aX=echarts.init(e),this.on("destroy",(()=>{this._aX.dispose()})),this._aX.setOption({series:[{data:[{value:60,name:"\u8bbf\u95ee"},{value:40,name:"\u54a8\u8be2"},{value:20,name:"\u8ba2\u5355"},{value:80,name:"\u70b9\u51fb"},{value:100,name:"\u5c55\u73b0"}],type:"funnel"}]},!0),e.dataset.tip=""}this._aX.resize()},async render(){let e=s.mark(this,"_aZ");await this.digest();try{if(await a(),e()){let e=this.get("props");this._aY();let t={title:{text:e.title,x:"center"}};e.colors&&e.colors.length&&(t.color=e.colors),this._aX.setOption(t)}}catch(t){e()&&this.digest({error:t})}}})})),define("elements/chart-line/designer",["../../designer/props","../normal"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../normal");i.exports=a.extend({ctor(){this.set({view:"elements/chart-line/index"})}}).static({role:"chart-line",title:"w",icon:"&#xe64b;",_aV:{height:1},_ac:()=>({background:"",alpha:1,height:300,title:"",locked:!1,colors:["#FA742B"]}),props:[{tip:"p",key:"height",type:s._aj,min:0,json:1},{tip:"q",key:"alpha",type:s._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"r",type:s._ak,key:"background",alpha:!0,clear:!0,json:1},{tip:"s",key:"title",type:s._au,json:1},{tip:"t",key:"colors",type:s._av,json:1,_aW:1,multi:1,encode(e,t){e.colors=t.colors.slice()}},{type:s._al},{tip:"u",key:"locked",type:s._am,free:!0}]})})),define("elements/chart-line/index",["magix","../provider/echarts"],((e,t,i)=>{const s=e("magix"),a=e("../provider/echarts");i.exports=s.View.extend({tmpl:(e,t,i)=>{let s,a,{props:l,error:d}=e;return a="height:"+l.height+"px;opacity:"+l.alpha+";",l.background&&(a+="background:"+l.background+";"),s=[t("div",{class:"pd-ao","data-tip":d||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6...",id:"chart_"+i,style:a})],t(i,0,s)},assign(e){this.set(e)},_aY(){if(!this._aX){let e=s.node("chart_"+this.id);this._aX=echarts.init(e),this.on("destroy",(()=>{this._aX.dispose()})),this._aX.setOption({tooltip:{trigger:"axis"},xAxis:{data:[1,2,3,4,5]},yAxis:{type:"value"},series:[{data:[120,300,400,220,40],type:"line"},{data:[90,200,600,100,50],type:"line"}]},!0),e.dataset.tip=""}this._aX.resize()},async render(){let e=s.mark(this,"_aZ");await this.digest();try{if(await a(),e()){let e=this.get("props");this._aY();let t={title:{text:e.title}};e.colors&&e.colors.length&&(t.color=e.colors),this._aX.setOption(t)}}catch(t){e()&&this.digest({error:t})}}})})),define("elements/chart-pie/designer",["../../designer/props","../normal"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../normal");i.exports=a.extend({ctor(){this.set({view:"elements/chart-pie/index"})}}).static({role:"chart-pie",title:"y",icon:"&#xe6d4;",_aV:{height:1},_ac:()=>({background:"",alpha:1,height:300,title:"",locked:!1,colors:["#FA742B"]}),props:[{tip:"p",key:"height",type:s._aj,min:0,json:1},{tip:"q",key:"alpha",type:s._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"r",type:s._ak,key:"background",alpha:!0,clear:!0,json:1},{tip:"s",key:"title",type:s._au,json:1},{tip:"t",key:"colors",type:s._av,json:1,_aW:1,multi:1,encode(e,t){e.colors=t.colors.slice()}},{type:s._al},{tip:"u",key:"locked",type:s._am,free:!0}]})})),define("elements/chart-pie/index",["magix","../provider/echarts"],((e,t,i)=>{const s=e("magix"),a=e("../provider/echarts");i.exports=s.View.extend({tmpl:(e,t,i)=>{let s,a,{props:l,error:d}=e;return a="height:"+l.height+"px;opacity:"+l.alpha+";",l.background&&(a+="background:"+l.background+";"),s=[t("div",{class:"pd-ao","data-tip":d||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6...",id:"chart_"+i,style:a})],t(i,0,s)},assign(e){this.set(e)},_aY(){if(!this._aX){let e=s.node("chart_"+this.id);this._aX=echarts.init(e),this.on("destroy",(()=>{this._aX.dispose()})),this._aX.setOption({series:[{data:[{value:120,name:"pie1"},{value:300,name:"pie2"},{value:400,name:"pie3"},{value:220,name:"pie4"},{value:40,name:"pie5"}],type:"pie"}]},!0),e.dataset.tip=""}this._aX.resize()},async render(){let e=s.mark(this,"_aZ");await this.digest();try{if(await a(),e()){let e=this.get("props");this._aY();let t={title:{text:e.title,x:"center"}};e.colors&&e.colors.length&&(t.color=e.colors),this._aX.setOption(t)}}catch(t){e()&&this.digest({error:t})}}})})),define("elements/chart-meter/designer",["../../designer/props","../normal"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../normal");i.exports=a.extend({ctor(){this.set({view:"elements/chart-meter/index"})}}).static({role:"chart-meter",title:"x",icon:"&#xeb94;",_aV:{height:1},_ac:()=>({background:"",alpha:1,height:300,title:"",locked:!1}),props:[{tip:"p",key:"height",type:s._aj,min:0,json:1},{tip:"q",key:"alpha",type:s._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"r",type:s._ak,key:"background",alpha:!0,clear:!0,json:1},{tip:"s",key:"title",type:s._au,json:1},{type:s._al},{tip:"u",key:"locked",type:s._am,free:!0}]})})),define("elements/chart-meter/index",["magix","../provider/echarts"],((e,t,i)=>{const s=e("magix"),a=e("../provider/echarts");i.exports=s.View.extend({tmpl:(e,t,i)=>{let s,a,{props:l,error:d}=e;return a="height:"+l.height+"px;opacity:"+l.alpha+";",l.background&&(a+="background:"+l.background+";"),s=[t("div",{class:"pd-ao","data-tip":d||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6...",id:"chart_"+i,style:a})],t(i,0,s)},assign(e){this.set(e)},_aY(){if(!this._aX){let e=s.node("chart_"+this.id);this._aX=echarts.init(e),this.on("destroy",(()=>{this._aX.dispose()})),this._aX.setOption({series:[{type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}]},!0),e.dataset.tip=""}this._aX.resize()},async render(){let e=s.mark(this,"_aZ");await this.digest();try{if(await a(),e()){this._aY();let e={title:{text:this.get("props").title}};this._aX.setOption(e)}}catch(t){e()&&this.digest({error:t})}}})})),define("elements/image/designer",["../../designer/props","../normal"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../normal");i.exports=a.extend({ctor(){this.set({view:"elements/image/index"})}}).static({role:"image",title:"z",icon:"&#xe650;",_aV:{height:1},_ac:()=>({background:"",alpha:1,height:100,src:"",hpos:"flex-start",vpos:"flex-start",rotateX:!1,rotateY:!1,locked:!1}),props:[{tip:"p",key:"height",type:s._aj,min:0,json:1},{tip:"q",key:"alpha",type:s._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"r",type:s._ak,key:"background",alpha:!0,clear:!0,json:1},{type:s._al},{tip:"A",key:"src",type:s._as,json:1},{tip:"B",type:s._aq,json:1,encode(e,t){e.hpos=t.hpos,e.vpos=t.vpos}},{tip:"C",type:s._am,key:"rotateX",json:1},{tip:"D",type:s._am,key:"rotateY",json:1},{type:s._al},{tip:"u",key:"locked",type:s._am,free:!0}]})})),define("elements/image/index",["magix"],((e,t,i)=>{let s;const a=e("magix");i.exports=a.View.extend({tmpl:(e,t,i)=>{let a,l,d,o,{props:p}=e;return o=[],p.src?(l="",(p.rotateX||p.rotateY)&&(l+="transform:",p.rotateX&&(l+="rotateX(180deg)"),p.rotateY&&(l+=" rotateY(180deg)")),o.push(t("img",{src:p.src,class:"pd-D pd-E pd-u",style:l},1))):s?o.push(s):(d=[t(0,"\u8bf7\u9009\u62e9\u56fe\u7247")],o.push(s=t("div",{_:"_",class:"pd-B pd-C pd-a_ pd-af pd-ag pd-ap"},d))),l="display:flex;align-items:"+p.vpos+";justify-content:"+p.hpos+";height:"+p.height+"px;opacity:"+p.alpha+";",p.background&&(l+="background:"+p.background+";"),a=[t("div",{style:l},o)],t(i,0,a)},assign(e){this.set(e)},render(){this.digest()}})})),define("elements/layout/designer",["../normal","../../designer/props"],((e,t,i)=>{const s=e("../normal"),a=e("../../designer/props");i.exports=s.extend({ctor(){this.set({view:"elements/layout/dshow"})}}).static({role:"layout",title:"E",icon:"&#xe764;",_ac:()=>({columns:[{width:50,elements:[]},{width:50,elements:[]}],margin:"5px 5px 5px 5px",padding:"5px 5px 5px 5px",locked:!1}),props:[{tip:"F",key:"columns",_aW:!0,type:a._an,json:1,encode(e,t){let{columns:i}=t,s=[];for(let e of i)s.push({elements:e.elements,width:e.width});e.columns=s}},{tip:"G",key:"margin",_aW:!0,type:a._ao,json:1},{tip:"H",key:"padding",_aW:!0,type:a._ao,json:1},{type:a._al},{tip:"u",key:"locked",type:a._am,free:!0}]})})),define("elements/layout/dshow",["magix","../../designer/stage-elements","../../gallery/mx-dragdrop/index"],((e,t,i)=>{const s=e("magix"),a=e("../../designer/stage-elements"),l=e("../../gallery/mx-dragdrop/index");s.applyStyle("pd-g",".pd-a9{display:flex;min-height:40px;width:100%}.pd-b_{border:1px dashed #ccc}.pd-b_,.pd-ba{flex-shrink:1}"),i.exports=s.View.extend({tmpl:(e,t,i,s,a,l)=>{let d,o,p,{props:r,element:n}=e;p=[];for(let e=r.columns,s=e.length,d=0;d<s;d+=1){let s=e[d];o=[];for(let e=s.elements,p=e.length,r=0;r<p;r+=1){let s=e[r];o.push(t("div",{"mx5-owner":i,$:"props",class:"pd-1",id:s.id,eid:s.id,"mx5-view":"elements/"+s.role+"/designer?element="+l(a,s,"_."+d+".a."+r+".b"),"mx5-pointerdown":i+"\x1e_aO({element:'"+l(a,s,"_."+d+".a."+r+".b")+"'})",role:s.role}))}p.push(t("div",{style:"flex-basis:"+s.width+"%",class:"pd-b_",role:"column",index:d,pid:n.id},o))}return d=[t("div",{style:"margin:"+r.margin+";padding:"+r.padding,class:"pd-a9"},p)],t(i,0,d)},assign(e){this.set(e)},render(){this.digest()},"_aO<pointerdown>"(e){e._aN||(e._aN=1,a._aJ(e,this))}}).merge(l)})),define("elements/layout/index",["magix"],((e,t,i)=>{const s=e("magix");s.applyStyle("pd-g",".pd-a9{display:flex;min-height:40px;width:100%}.pd-b_{border:1px dashed #ccc}.pd-b_,.pd-ba{flex-shrink:1}"),i.exports=s.View.extend({tmpl:(e,t,i,s,a,l)=>{let d,o,p,{props:r}=e;p=[];for(let e=r.columns,s=e.length,d=0;d<s;d+=1){let s=e[d];o=[];for(let e=s.elements,p=e.length,r=0;r<p;r+=1){let s=e[r];o.push(t("div",{"mx5-owner":i,$:"props",class:"pd-1","mx5-view":"elements/"+s.role+"/index?props="+l(a,s.props,"_."+d+".a."+r+".b")}))}p.push(t("div",{style:"flex-basis:"+s.width+"%",class:"pd-ba"},o))}return d=[t("div",{style:"margin:"+r.margin+";padding:"+r.padding,class:"pd-a9"},p)],t(i,0,d)},assign(e){this.set(e)},render(){this.digest()}})})),define("elements/provider/echarts",[],((e,t,i)=>{let s=[],a=1,l="can not load echarts library";i.exports=()=>new Promise(((e,t)=>{if(2&a)window.echarts?e():t(l);else if(4&a)s.push([e,t]);else{a|=4,s.push([e,t]);let i=document.createElement("script");i.src="//cdn.jsdelivr.net/npm/echarts@5.1.2/dist/echarts.min.js",i.onload=i.onerror=()=>{document.head.removeChild(i),a|=2;for(let[e,t]of s)window.echarts?e():t(l);s.length=0},document.head.appendChild(i)}}))})),define("elements/page/designer",["../../designer/props","../../i18n/index"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../../i18n/index");i.exports={title:"I",_ac:()=>({width:900,height:500,background:"#ffffff",backgroundImage:"",backgroundRepeat:"full",backgroundWidth:0,backgroundHeight:0}),props:[{tip:"J",key:"width",type:s._aj,min:0,json:1},{tip:"K",key:"height",type:s._aj,min:0,json:1},{type:s._al},{tip:"r",key:"background",type:s._ak,json:1},{tip:"L",_aW:!0,key:"backgroundImage",type:s._as,write(e,t){e.backgroundWidth=t.width,e.backgroundHeight=t.height},json:1},{tip:"M",key:"backgroundRepeat",type:s._at,items:[{text:a("N"),value:"full"},{text:a("O"),value:"no-repeat"},{text:a("P"),value:"repeat-x"},{text:a("Q"),value:"repeat-y"},{text:a("R"),value:"repeat"}],_a2:e=>e.backgroundImage,json:1}]}})),define("elements/text/designer",["../normal","../../designer/props"],((e,t,i)=>{const s=e("../normal"),a=e("../../designer/props");i.exports=s.extend({ctor(){this.set({view:"elements/text/index"})}}).static({role:"text",title:"X",icon:"&#xe6bc;",_aV:{height:1},_ac:()=>({background:"",height:50,alpha:1,text:"",ls:0,forecolor:"#000000",fontsize:14,locked:!1,styleBold:!1,styleUnderline:!1,styleItalic:!1,margin:"0px 0px 0px 0px",padding:"4px 4px 4px 4px",hpos:"flex-start",vpos:"flex-start"}),props:[{tip:"p",key:"height",type:a._aj,min:0,json:1},{tip:"Y",key:"fontsize",type:a._aj,min:0,json:1},{tip:"q",key:"alpha",type:a._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"Z",key:"ls",type:a._aj,min:0},{tip:"r",key:"background",clear:!0,alpha:!0,type:a._ak,json:1},{tip:"a_",key:"forecolor",type:a._ak,json:1},{tip:"aa",type:a._ap,json:1,encode(e,t){e.styleBold=t.styleBold,e.styleUnderline=t.styleUnderline,e.styleItalic=t.styleItalic,e.styleStrike=t.styleStrike}},{tip:"B",type:a._aq,json:1,encode(e,t){e.hpos=t.hpos,e.vpos=t.vpos}},{tip:"ab",key:"text",type:a._ar,_aW:!0,json:1},{type:a._al},{tip:"G",key:"margin",_aW:!0,type:a._ao,json:1},{tip:"H",key:"padding",_aW:!0,type:a._ao,json:1},{type:a._al},{tip:"u",key:"locked",type:a._am,free:!0}]})})),define("elements/text/index",["magix"],((e,t,i)=>{const s=e("magix");i.exports=s.View.extend({tmpl:(e,t,i)=>{let s,a,l,d,{props:o}=e;return l="",o.text?l+=" "+o.text+" ":l+=" \u8bf7\u8f93\u5165\u6587\u5b57 ",d=[t(0,l)],a="display:flex;color:"+o.forecolor+";",o.background&&(a+="background:"+o.background+";"),a+="font-size:"+o.fontsize+"px;height:"+o.height+"px;letter-spacing:"+o.ls+"px;opacity:"+o.alpha+";margin:"+o.margin+";padding:"+o.padding+";",o.styleBold&&(a+="font-weight:bold;"),o.styleItalic&&(a+="font-style:italic;"),o.styleUnderline&&(a+="text-decoration:underline;"),a+=";align-items:"+o.vpos+";justify-content:"+o.hpos+";overflow:hidden",s=[t("div",{style:a},d)],t(i,0,s)},assign(e){this.set(e)},render(){this.digest()}})})),define("elements/repeat/designer",["../../designer/props","../normal","../../i18n/index"],((e,t,i)=>{const s=e("../../designer/props"),a=e("../normal"),l=e("../../i18n/index");i.exports=a.extend({ctor(){this.set({view:"elements/repeat/index"})}}).static({role:"repeat",title:"S",icon:"&#xe78f;",_aV:{height:1},_ac:()=>({background:"",alpha:1,height:100,src:"",imageWidth:0,imageHeight:0,positionXOffset:0,positionYOffset:0,repeat:"repeat",locked:!1}),props:[{tip:"p",key:"height",type:s._aj,min:0,json:1},{tip:"q",key:"alpha",type:s._aj,step:.1,fixed:1,min:0,max:1,json:1},{tip:"r",type:s._ak,key:"background",alpha:!0,clear:!0,json:1},{type:s._al},{tip:"A",key:"src",type:s._as,json:1,write:(e,t,i)=>(t.imageWidth=i.width,t.imageHeight=i.height,e)},{tip:"T",key:"imageWidth",type:s._aj,min:0,_a2:e=>e.src,json:1},{tip:"U",key:"imageHeight",type:s._aj,min:0,_a2:e=>e.src,json:1},{tip:"V",key:"positionXOffset",type:s._aj,_a2:e=>e.src,json:1},{tip:"W",key:"positionYOffset",type:s._aj,_a2:e=>e.src,json:1},{tip:"M",key:"repeat",type:s._at,_a2:e=>e.src,items:[{text:l("R"),value:"repeat"},{text:l("P"),value:"repeat-x"},{text:l("Q"),value:"repeat-y"}],json:1},{type:s._al},{tip:"u",key:"locked",type:s._am,free:!0}]})})),define("elements/repeat/index",["magix"],((e,t,i)=>{let s;const a=e("magix");i.exports=a.View.extend({tmpl:(e,t,i)=>{let a,l,d,o,{props:p}=e;return o=[],p.src||(s?o.push(s):(d=[t(0,"\u8bf7\u9009\u62e9\u56fe\u7247")],o.push(s=t("div",{_:"_",class:"pd-C pd-a_ pd-af pd-ag pd-ap"},d)))),l="height:"+p.height+"px;opacity:"+p.alpha+";",p.background&&(l+="background:"+p.background+";"),p.src&&(l+="background-image:url("+p.src+");",p.imageWidth>0&&p.imageHeight>0&&(l+="background-size:"+p.imageWidth+"px "+p.imageHeight+"px;"),l+="background-repeat:"+p.repeat+";background-position:"+p.positionXOffset+"% "+p.positionYOffset+"%"),a=[t("div",{style:l},o)],t(i,0,a)},assign(e){this.set(e)},render(){this.digest()}})})),define("designer/axis",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","./history"],((e,t,i)=>{let s,a,l,d={class:"pd-aE"},o={class:"pd-aC"};const p=e("magix"),r=e("../gallery/mx-dragdrop/index"),n=e("../gallery/mx-pointer/cursor"),c=e("./history");let{applyStyle:h,node:g,State:_,View:x,inside:u,guid:m}=p;h("pd-a",".pd-aq{background:#fff;border-bottom:1px solid #ccc;height:20px;overflow:hidden;position:relative;width:100%;z-index:200}.pd-ar{top:0;width:1px}.pd-ar,.pd-as{background:#fa742b;display:none;pointer-events:none;position:absolute;z-index:200}.pd-as{height:1px;left:0}.pd-at{float:left;overflow:hidden;position:relative;z-index:200}.pd-au,.pd-at{background:#fff;border-right:1px solid #ccc;width:20px}.pd-au{border-bottom:1px solid #ccc;height:20px;left:0;position:absolute;top:0;z-index:201}.pd-av{left:5px;top:22px}.pd-av,.pd-aw{cursor:default;font-size:10px;position:absolute}.pd-aw{left:24px;top:2px}.pd-ax,.pd-ay{position:relative;z-index:100}.pd-ax{top:20px}.pd-ay{left:20px}.pd-az{border-left:1px solid #fa742b;width:4px}.pd-az,.pd-aA{pointer-events:none;position:absolute}.pd-aA{background:#fa742b;height:1px}.pd-aB{color:#666;cursor:pointer;font-size:10px;left:-15px;pointer-events:all;position:absolute;top:4px}.pd-aC{cursor:default;top:2px}.pd-aC,.pd-aD{color:#666;font-size:10px;left:4px;position:absolute}.pd-aD{cursor:pointer;pointer-events:all;top:-15px}.pd-aE{color:#666;cursor:default;font-size:10px;left:4px;position:absolute;top:2px}.pd-aF{cursor:ns-resize;height:3px;left:30px;top:-1px;width:25px}.pd-aG,.pd-aF{background:#fa742b;overflow:hidden;pointer-events:all;position:absolute}.pd-aG{cursor:ew-resize;height:25px;left:-2px;top:20px;width:3px}");let f={.5:{space:200,step:10},1:{space:100,step:10},1.5:{space:80,step:10},2:{space:60,step:10},2.5:{space:48,step:8},3:{space:40,step:8},3.5:{space:32,step:8},4:{space:24,step:8},4.5:{space:16,step:8},5:{space:16,step:8}};i.exports=x.extend({tmpl:(e,t,i,p,r,n,c)=>{let h,g,_,x,u,m,f,b,{sTop:y,yHelpers:k,yStart:w,scale:v,vWidth:S,i18n:j,sLeft:z,xHelpers:T,xStart:Y,vHeight:I,width:L,step:X,space:A,hbar:F,barColor:C,bar:V,xEnd:N,height:H,yEnd:M}=e;x=[];for(let e=k.length,a=0;a<e;a+=1){let e=k[a];b=Math.abs(w)+e.mm*v+20,g=[s||(s=t(0,"\ue6b3"))],_=[t("i",{class:"pd-_ pd-aD",title:j("_"),"mx5-click":i+"\x1e_v({type:'y',id:'"+c(e.id)+"'})"},g)],g=[t(0,e.mm)],_.push(t("span",d,g),t("span",{class:"pd-aF","mx5-pointerdown":i+"\x1e_z({type:'y',id:'"+c(e.id)+"',c:"+b+"})",title:j("a")})),x.push(t("div",{class:"pd-aA",style:"width:"+S+"px;top:"+b+"px"},_))}h=[t("div",{class:"pd-ay",style:"top:-"+y+"px",id:i+"_y_help","mx5-contextmenu":i+"\x1e_A()"},x)],x=[];for(let e=T.length,a=0;a<e;a+=1){let e=T[a];b=Math.abs(Y)+e.mm*v,g=[s||(s=t(0,"\ue6b3"))],_=[t("i",{class:"pd-_ pd-aB",title:j("_"),"mx5-click":i+"\x1e_v({type:'x',id:'"+c(e.id)+"'})"},g)],g=[t(0,e.mm)],_.push(t("span",o,g),t("span",{class:"pd-aG","mx5-pointerdown":i+"\x1e_z({type:'x',id:'"+c(e.id)+"',c:"+b+"})",title:j("a")})),x.push(t("div",{class:"pd-az",style:"height:"+I+"px;left:"+b+"px"},_))}h.push(t("div",{class:"pd-ax",style:"left:-"+z+"px",id:i+"_x_help","mx5-contextmenu":i+"\x1e_A()"},x)),m=[];for(let e=0;e<Y;e+=X)e&&(f=e/v,f%A==0?(m.push(t("rect",{width:1,height:F,x:Y-e,y:20-F-1,style:"fill:"+C},1)),u=[t(0,-f)],m.push(t("text",{x:Y-e+2,y:14,style:"font-size:10px;fill:#999"},u))):m.push(t("rect",{width:1,height:V,x:Y-e,y:20-V-1,style:"fill:"+C},1)));for(let e=0;e<N;e+=X)f=e/v,f%A==0?(m.push(t("rect",{width:1,height:F,x:Y+e,y:20-F-1,style:"fill:"+C},1)),u=[t(0,f)],m.push(t("text",{x:Y+e+2,y:14,style:"font-size:10px;fill:#999"},u))):m.push(t("rect",{width:1,height:V,x:Y+e,y:20-V-1,style:"fill:"+C},1));g=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+L+" 19",style:"cursor:default"},m)],_=[t("div",{style:"width:"+L+"px;height:100%"},g)],x=[t("div",{class:"pd-aq",id:i+"_x"},_)],g=[a||(a=t(0,"-"))],_=[t("span",{class:"pd-av",id:i+"_x_tip"},g)],x.push(t("div",{class:"pd-ar",id:i+"_x_line",style:"height:"+(I+20)+"px"},_)),h.push(t("div",{"mx5-pointermove":i+"\x1e_o()","mx5-pointerout":i+"\x1e_p()","mx5-click":i+"\x1e_t()"},x)),m=[];for(let e=0;e<w;e+=X)e&&(f=e/v,f%A==0?(m.push(t("rect",{width:F,height:1,x:20-F,y:w-e,style:"fill:"+C},1)),u=[t(0,-f)],m.push(t("text",{x:14,y:w-e+2,style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+(w-e)+")"},u))):m.push(t("rect",{width:V,height:1,x:20-V,y:w-e,style:"fill:"+C},1)));for(let e=0;e<M;e+=X)f=e/v,f%A==0?(m.push(t("rect",{width:F,height:1,x:20-F,y:w+e,style:"fill:"+C},1)),u=[t(0,f)],m.push(t("text",{x:14,y:w+e,style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+(w+e-2)+")"},u))):m.push(t("rect",{width:V,height:1,x:20-V,y:w+e,style:"fill:"+C},1));return g=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 "+H,style:"cursor:default"},m)],_=[t("div",{style:"height:"+H+"px"},g)],x=[t("div",{class:"pd-at",style:"height:"+I+"px",id:i+"_y"},_)],g=[a||(a=t(0,"-"))],_=[t("span",{class:"pd-aw",id:i+"_y_tip"},g)],x.push(t("div",{class:"pd-as",id:i+"_y_line",style:"width:"+(S+20)+"px"},_)),h.push(t("div",{"mx5-pointermove":i+"\x1e_q()","mx5-pointerout":i+"\x1e_r()","mx5-click":i+"\x1e_u()"},x)),l?h.push(l):h.push(l=t("div",{_:"_",class:"pd-au"})),t(i,0,h)},init(e){let t=g(e.scroll);t.addEventListener("scroll",(()=>{this.__()}),{passive:!0}),this._a=t,this.set({bar:4,hbar:12,barColor:"#aaa"});let i=this.render.bind(this);_.on("_",i),_.on("a",i),_.on("b",i),_.on("c",i)},async _l(){if(this._b){let e=this._a,t=_.get("_c"),i=Math.max(e.scrollWidth,window.innerWidth)+500,s=Math.max(e.scrollHeight,window.innerHeight)+300,a=0,l=0,d=20,o=0,p=0,r=10,n=10,c=g("stage_canvas"),h=g("stage_outer"),x=c.getBoundingClientRect(),u=h.getBoundingClientRect();a=Math.round(x.left-u.left)+d,l=i-a,o=Math.round(x.top-u.top),p=s-o,r=e.offsetHeight,n=e.offsetWidth;let m=f[t];await this.digest({sTop:e.scrollTop,sLeft:e.scrollLeft,width:i,scale:t,space:m.space,step:m.step,height:s,xStart:a,xEnd:l,yStart:o,vHeight:r,vWidth:n,yEnd:p}),this._d=g(this.id+"_x"),this._e=g(this.id+"_y"),this._f=g(this.id+"_x_line"),this._g=g(this.id+"_y_line"),this._h=g(this.id+"_x_tip"),this._i=g(this.id+"_y_tip"),this._j=g(this.id+"_x_help"),this._k=g(this.id+"_y_help")}},__(){let e=this._d,t=this._e,i=this._k,s=this._j,a=this._a,l=a.scrollTop,d=a.scrollLeft;e&&(e.scrollLeft=d),t&&(t.scrollTop=l),s&&(s.style.left=-d+"px"),i&&(i.style.top=-l+"px"),this.set({sLeft:d,sTop:l})},render(){this.set({xHelpers:_.get("_m"),yHelpers:_.get("_n")});let e=()=>{g("stage_canvas")?(this._b=1,this._l()):setTimeout(e,30)};setTimeout(e,30)},"_o<pointermove>"(e){let t=this._d,i=e.pageX,s=this.get("xStart"),a=this._f.style;a.display="block",a.left=i+"px";let l=i-s+t.scrollLeft,d=this.get("scale");this._h.innerHTML=(l/d).toFixed(0)},"_p<pointerout>"(e){u(e.relatedTarget,e.eventTarget)||(this._f.style.display="none")},"_q<pointermove>"(e){let t=this.root.getBoundingClientRect(),i=e.pageY-t.top,s=this.get("yStart"),a=this._e,l=this._g.style;l.display="block",l.top=i+"px";let d=i-s-20+a.scrollTop,o=this.get("scale");this._i.innerHTML=(d/o).toFixed(0)},"_r<pointerout>"(e){u(e.relatedTarget,e.eventTarget)||(this._g.style.display="none")},"_t<click>"(e){let t=(e.pageX-this.get("xStart")+this._d.scrollLeft)/this.get("scale")|0,i=this.get("xHelpers");i.push({mm:t,id:m("x_")}),this.digest({xHelpers:i}),this._f.style.display="none",c._s()},"_u<click>"(e){let t=this.root.getBoundingClientRect(),i=(e.pageY-t.top-this.get("yStart")-20+this._e.scrollTop)/this.get("scale")|0,s=this.get("yHelpers");s.push({mm:i,id:m("x_")}),this.digest({yHelpers:s}),this._g.style.display="none",c._s()},"_v<click>"(e){let{type:t,id:i}=e.params,s=t+"Helpers",a=this.get(s);for(let e=a.length;e--;){if(a[e].id==i){a.splice(e,1);break}}this.digest({[s]:a}),c._s()},"_z<pointerdown>"(e){if(e.target!=e.eventTarget)return;let t,{type:i,id:s,c:a}=e.params,l=i+"Helpers",d=this.get(l);for(let e of d)if(e.id==s){t=e;break}if(t){let s=this.get(i+"Start"),o=0;this._w(e,(p=>{let r;o||(o=1,n._x(e.eventTarget)),r="x"==i?p.pageX-e.pageX+a:p.pageY-e.pageY+a-20,t.mm=(r-s)/this.get("scale")|0,this.digest({[l]:d})}),(()=>{o&&(n._y(),c._s())}))}},"_A<contextmenu>"(e){e.preventDefault()},"$win<resize>"(){this._l()}}).merge(r)})),define("designer/const",[],((e,t,i)=>{i.exports={_B:50,_c:1,_C:5,_D:30,_E:30,_F:20,_G:10,_H:4,_I:10}})),define("designer/content",["magix","./tojson"],((e,t,i)=>{let s,a,l={class:"pd-F pd-a_ pd-af pd-am pd-an pd-c pd-i pd-j"},d={class:"pd-s"},o={class:"pd-l"},p={class:"pd-F pd-H pd-I pd-a_ pd-af pd-ak pd-c pd-n pd-o"},r={value:"value"};const n=e("magix"),c=e("./tojson");n.applyStyle("pd-b",".pd-aH{height:500px;width:100%}"),i.exports=n.View.extend({tmpl:(e,t,i)=>{let n,c,h,{i18n:g,body:_}=e;return n=s?[s]:[s=t("div",{_:"_",class:"pd-al pd-c pd-k"})],c=[t(0,g("b"))],h=[t("h5",d,c)],n.push(t("div",l,h)),h=[t("textarea",{class:"pd-B pd-aH pd-b",spellcheck:"false",id:"_rd_ta_"+i,value:_},0,r)],n.push(t("div",o,h)),c=[t(0,g("c"))],h=[t("button",{"mx5-click":i+"\x1e_M()",class:"pd-J pd-Y pd-g pd-h",type:"button"},c)],c=[t(0,g("d"))],h.push(t("button",{"mx5-click":i+"\x1e_K()",class:"pd-A pd-J pd-Y pd-g",type:"button"},c)),n.push(t("div",p,h)),a?n.push(a):n.push(a=t("div",{_:"a",class:"pd-aj pd-c pd-m"})),t(i,0,n)},init(e){this._J=e.dialog},render(){this.digest({body:c()})},"_K<click>"(){this._J.close()},"_M<click>"(){let e,t=n.node("ta_"+this.id).value.trim();try{e=JSON.parse(t)}catch(e){return void this.owner.parent(2).invoke("alert",["\u89e3\u6790JSON\u5931\u8d25\uff1a"+e.message])}n.State.fire("d",{_L:e}),this._J.close()}})})),define("designer/header",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/follower","../gallery/mx-runner/index","./tojson"],((e,t,i)=>{let s,a,l,d,o,p,r,n={class:"pd-Z pd-a_ pd-af"},c={class:"pd-5 pd-Z pd-aI pd-a_ pd-af"},h={class:"pd-1 pd-aK pd-aM"},g={class:"pd-_ pd-aO"},_={class:"pd-aN"},x={class:"pd-aP"},u={class:"pd-0 pd-5 pd-aJ pd-a_ pd-af"};const m=e("magix"),f=e("../gallery/mx-dragdrop/index"),b=e("../gallery/mx-pointer/follower"),y=e("../gallery/mx-runner/index"),k=e("./tojson");m.applyStyle("pd-c",".pd-aI{margin-left:100px}.pd-aJ{margin-right:10px}.pd-aK,.pd-aL{align-items:center;cursor:pointer;display:grid;grid-template-rows:20px 20px;height:40px;justify-items:center;margin:0 2px;width:60px}.pd-aM{grid-template-columns:50px 10px}.pd-aL{border-radius:2px;float:left}.pd-aL:hover{background:#bb4504}.pd-aN{cursor:default;display:none;left:0;padding:4px;position:absolute;top:100%;width:264px}.pd-aN,.pd-aK:hover{background:#ec5706}.pd-aK:hover .pd-aN{display:block}.pd-aO{align-self:flex-end;grid-column:1/2;grid-row:1/2}.pd-aP{font-size:12px;font-weight:400;grid-column:1/2;grid-row:2/3;line-height:12px}.pd-aQ{font-size:10px;grid-column:2/3;grid-row:1/3;margin-left:-10px}.pd-aR{background:linear-gradient(hsla(0,0%,100%,.25),#fff 30%,#fff 70%,hsla(0,0%,100%,.25));float:left;height:30px;margin:2px 12px;width:1px}"),i.exports=m.View.extend({tmpl:(e,t,i,m,f,b)=>{let y,k,w,v,S,j,{i18n:z,elements:T}=e;s?w=[s]:(k=[t(0,"\ue627")],w=[s=t("i",{_:"_",class:"pd-_ pd-aJ"},k)]),w.push(t(0,z("e"))),y=[t("div",n,w)],w=[];for(let e=T.length,s=0;s<e;s+=1){let e=T[s];if(e.spliter)a?w.push(a):w.push(a=t("div",{_:"a",class:"pd-aR"}));else if(e.subs){v=[t(0,e.icon,1)],k=[t("i",g,v)],v=[t(0,z(e.title))],k.push(t("b",{class:"pd-aP",title:z(e.title)},v)),l?k.push(l):(v=[t(0,"\ue73a")],k.push(l=t("i",{_:"b",class:"pd-_ pd-aQ"},v))),v=[];for(let a=e.subs,l=a.length,d=0;d<l;d+=1){let e=a[d];S=[t(0,e.icon,1)],j=[t("i",g,S)],S=[t(0,z(e.title))],j.push(t("b",x,S)),v.push(t("div",{class:"pd-aL","mx5-pointerdown":i+"\x1e_R({ctrl:'"+b(f,e,"_."+s+".a."+d+".b")+"'})",title:z(e.title)},j))}k.push(t("div",_,v)),w.push(t("div",h,k))}else v=[t(0,e.icon,1)],k=[t("i",g,v)],v=[t(0,z(e.title))],k.push(t("b",x,v)),w.push(t("div",{class:"pd-1 pd-aK","mx5-pointerdown":i+"\x1e_R({ctrl:'"+b(f,e,"_."+s+".c")+"'})",title:z(e.title)},k))}return y.push(t("div",c,w)),d?k=[d]:(v=[t(0,"\ue60e")],k=[d=t("i",{_:"c",class:"pd-_"},v)]),o?k.push(o):(v=[t(0,"\u9884\u89c8")],k.push(o=t("b",{_:"d",class:"pd-aP"},v))),w=[t("div",{class:"pd-aK","mx5-click":i+"\x1e_V()"},k)],p?k=[p]:(v=[t(0,"\ue64e")],k=[p=t("i",{_:"e",class:"pd-_"},v)]),r?k.push(r):(v=[t(0,"\u4fdd\u5b58")],k.push(r=t("b",{_:"f",class:"pd-aP"},v))),w.push(t("div",{class:"pd-aK","mx5-click":i+"\x1e_s()"},k)),y.push(t("div",u,w)),t(i,0,y)},render(){let e=m.State.get("_N");this.digest({elements:e._O()})},"_R<pointerdown>"(e){let{ctrl:t}=e.params,i=0;b._P(t.icon),m.State.set({_Q:t}),this._w(e,(e=>{i&&(b._x(e),m.State.fire("e",{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY})),i=1}),(e=>{b._y(),i?e&&m.State.fire("f"):m.State.fire("g"),m.State.set({_Q:null})}))},"_s<click>"(){m.State.fire("h")},"_V<click>"(){let e=this._S;e&&y._T(e),this._U=0;let t=open("./preview.html","_V");t.focus();let i=location.protocol+"//"+location.host,s=()=>{t.postMessage(k(),i),this._U++,this._U>20&&y._T(s)};y._W(400,this._S=s)},"$win<message>"(e){let t=location.protocol+"//"+location.host;e.origin==t&&"_X"==e.data&&y._T(this._S)}}).merge(f)})),define("designer/history",["magix","./const"],((e,t,i)=>{const s=e("magix"),a=e("./const");let l,d=[],o=[],p=null,r="",n=null,c=(e,t)=>e.startsWith("_")?void 0:t,h=()=>JSON.stringify({page:s.State.get("_Y"),scale:s.State.get("_c"),layouts:s.State.get("_Z"),select:s.State.get("_0"),xLines:s.State.get("_m"),yLines:s.State.get("_n")},c),g=e=>{let t=JSON.parse(e),i=s.State.get("_c"),a=t.scale||i;s.State.fire("_",{json:t,scale:i!==a})};i.exports={_1(){n||(n=h())},_2:()=>({canRedo:o.length,canUndo:d.length}),_3(){d.length=0,o.length=0},_4(){if(d.length>0){let e=d.pop();o.push(e);let t=d[d.length-1]||n;g(t)}},_5(){let e=o.pop();e&&(d.push(e),g(e))},_s(e="_6",t=0){let i=h();e!=r&&(p&&(clearTimeout(l),d.push(p),p=null),r=e),o.length=0;let c=e=>{d.push(e),d.length>a._B&&(n=d.shift()),p=null,s.State.fire("i")};t?(p=i,clearTimeout(l),l=setTimeout((()=>{c(p)}),t)):c(i)}}})),define("designer/index",["magix","../elements/index","../gallery/mx-dialog/index","./const","./history","../panels/index","./stage-selection","./keys","../i18n/index","./header","./toolbar","./axis","./stage"],((e,t,i)=>{let s,a;e("./header"),e("./toolbar"),e("./axis"),e("./stage");let l={class:"pd-5 pd-aY"},d={class:"pd-Z"};const o=e("magix"),p=e("../elements/index"),r=e("../gallery/mx-dialog/index"),n=e("./const"),c=e("./history"),h=e("../panels/index"),g=e("./stage-selection"),_=e("./keys"),x=e("../i18n/index");o.State.set({_N:p});let u=p._7();o.applyStyle("pd-d",".pd-aS{background:#fa742b;color:#fff;font-size:16px;height:40px;line-height:40px;padding:0 10px;z-index:202}.pd-aS,.pd-aT{position:relative}.pd-aT{background:#fafafa;border-bottom:1px solid #eee;color:#333;height:26px;padding:0 26px;z-index:201}.pd-aU{background-color:#edeef3;height:calc(100% - 106px);margin-left:20px;overflow:scroll;transition:all .3s;width:calc(100% - 20px)}.pd-aV{scroll-behavior:smooth}.pd-aW{box-shadow:inset 1px 1px 6px 2px #dadada}.pd-aX{bottom:21px;box-shadow:inset 0 0 0 30px rgba(250,116,43,.1);left:20px;pointer-events:none;position:absolute;right:0;top:86px;z-index:1000}.pd-aY{background:#fafafa;border-top:1px solid #ccc;color:#999;font-size:12px;height:20px;line-height:20px;padding-left:25px;position:relative;z-index:200}");let m=/^(?:input|textarea)$/i,f={Digit1:0,Digit2:1,Digit3:2,Digit4:3};i.exports=o.View.extend({tmpl:(e,t,i)=>{let o,p,r,{i18n:n}=e;return o=[t("div",{"mx5-owner":i,"mx5-view":"designer/header",class:"pd-aS"}),t("div",{"mx5-owner":i,"mx5-view":"designer/toolbar",class:"pd-5 pd-aT"}),t("div",{"mx5-owner":i,"mx5-view":"designer/axis?scroll=stage",class:"pd-1 pd-5"}),t("div",{"mx5-owner":i,"mx5-view":"designer/stage",id:"stage",class:"pd-6 pd-aU pd-aW"})],p=[t(0,n("g"),1)],r=[t("div",d,p)],s?r.push(s):r.push(s=t("div",{_:"_",class:"pd-0 pd-z",id:"ss"})),o.push(t("div",l,r)),a?o.push(a):o.push(a=t("div",{_:"a",id:"sdsz",class:"pd-3 pd-aX"})),t(i,0,o)},init(){o.State.on("_",(e=>{(e=>{let t=o.State.get("_Y"),i=o.State.get("_Z"),s=o.State.get("_0"),a=o.State.get("_m"),l=o.State.get("_n"),{elements:d,map:r}=p._8(e.layouts);i.length=0,i.push(...d),a.length=0,e.xLines&&a.push(...e.xLines),l.length=0,e.yLines&&l.push(...e.yLines);let n={};if(s.length=0,e.select)for(let t of e.select){let e=r[t.id];e&&(n[e.id]=1,s.push(e))}Object.assign(t,e.page),o.State.set({_c:e.scale||1,_9:n})})(e.json)})),o.State.on("d",(e=>{let t=o.node("stage");t&&(t.scrollLeft=0,t.scrollTop=0);let{page:i,layouts:s}=e._L,{elements:a}=p._8(s),l=u._ac();Object.assign(l,i),o.State.set({_Y:l,_Z:[...a]}),g._ad(),o.State.fire("b"),o.State.fire("a"),c._s()})),o.State.on("j",(e=>{let t=o.node("ss");t&&(t.innerHTML=e.busy?x("f"):"")})),o.State.on("h",(()=>{this.mxDialog("designer/content",{width:1200})})),o.State.set({_ae:u,_Y:u._ac(),_c:n._c,_Z:[],_0:[],_9:{},_m:[],_n:[]}),c._1()},async render(){await this.digest(),h._af()},"$doc<keydown>"(e){if((()=>{let e=document.activeElement;return m.test(e.tagName)||e.isContentEditable})())return;let{shiftKey:t,metaKey:i,ctrlKey:s,code:a}=e;if(a!=_._||!t||s||i)s||i||!o.has(f,a)?(i||s)&&a==_.a&&(e.preventDefault(),o.State.fire("h",{shift:e.shiftKey})):((e,t)=>{let i=h._a_()[e];i&&(t?h._aa(i.id):h._ab(i.id))})(f[a],t);else{h._ag()?h._ah():h._ai()}}}).merge(r)})),define("designer/keys",[],((e,t,i)=>{i.exports={b:"Backspace",c:"Delete",d:"Tab",_:"KeyZ",e:"KeyY",a:"KeyS",f:"Equal",g:"Minus",h:"Digit0"}})),define("designer/props",[],((e,t,i)=>{i.exports={_aj:1,_ak:2,_al:3,_am:4,_an:5,_ao:6,_ap:7,_aq:8,_ar:9,_as:10,_at:11,_au:12,_av:13}})),define("designer/service",["magix"],((e,t,i)=>{const s=e("magix");let a=s.Service.extend(((e,t)=>{let i=e.get("method")||"GET";fetch(e.get("url"),{method:i,credentials:"include"}).then((e=>{if(e.ok)return e.json();throw new Error("Network response error")})).then((i=>{e.set({data:i.data}),t()})).catch((e=>{t({msg:e.message})}))}));a.add([{name:"_aw",url:s.config("getImageUrl"),cache:18e5},{name:"_ax",url:s.config("getFieldUrl"),cache:18e5},{name:"_ay",cache:18e5}]),i.exports=a})),define("designer/stage-dragdrop",["magix","../gallery/mx-dragdrop/index","../gallery/mx-runner/index","./const","./history","./stage-elements"],((e,t,i)=>{const s=e("magix"),a=e("../gallery/mx-dragdrop/index"),l=e("../gallery/mx-runner/index"),d=e("./const"),o=e("./history"),p=e("./stage-elements");i.exports={_aH(e,t){let i,r=null,n=null,c=null,h=null,g=null,_=this,x=0,u=0,m=null,f=null,b=0,y=()=>{n=null,h=null,r=null,g=null,b=0},k=()=>{let t=e.getBoundingClientRect(),i=e.scrollWidth>e.clientWidth+d._F,s=e.scrollHeight>e.clientHeight+d._F;m.pageY>t.top&&m.pageY<t.top+t.height&&m.pageX>t.left&&m.pageX<t.left+t.width&&(i||s)?t.top+t.height-d._E<m.pageY?e.scrollTop+e.clientHeight+d._F<e.scrollHeight?(x++,x>d._I&&(c.display="none",e.scrollTop+=d._H)):x=0:t.top+d._E>m.pageY?e.scrollTop<d._F?x=0:(x++,x>d._I&&(e.scrollTop-=d._H,c.display="none")):t.left+d._D>m.pageX?e.scrollLeft<d._F?x=0:(x++,x>d._I&&(e.scrollLeft-=d._H,c.display="none")):t.left+t.width-d._D<m.pageX&&e.scrollLeft+e.clientWidth+d._F<e.scrollWidth?(x++,x>d._I&&(c.display="none",e.scrollLeft+=d._H)):x=0:x=0};s.State.on("e",(o=>{if(m=o,u||(u=1,i||(i=s.node("sdsz")),i.classList.remove("pd-3"),e.addEventListener("scroll",y),e.classList.remove("pd-aV"),f=p._az(),l._aA(d._G,k)),x)return;let w=a._aD(o.clientX,o.clientY);if(o.copy!=b&&(b=o.copy,n=null),w!=n){n=w,c||(c=s.node(t+"_bar").style),h||(h=s.node("stage_outer").getBoundingClientRect());let e=_._aE(f,w,o.moved,b);r=e||null}if(r){let e=_._aF(r,o);e?(g=e,c.left=e.rect.left-h.left+"px",c.top=e.rect.top-h.top+"px",c.width=e.rect.width+"px",c.display="block"):(g=null,c.display="none")}else c&&(g=null,c.display="none")})),s.State.on("f",(()=>{x=0,u&&(u=0,i.classList.add("pd-3"),e.removeEventListener("scroll",y),l._aB(k)),g&&(c.display="none",r.moved?p._aC(g,r.moved,b):p._R(g,!0),s.State.fire("b"),o._s()),y(),f=null})),s.State.on("g",(()=>{let e=s.State.get("_Q"),t=s.State.get("_Z"),i=s.State.get("_0")[0],a=!0;i&&"layout"==i.role&&(t=i.props.columns[0].elements,a="layout"==e.role);let{id:l}=p._R({elements:t,ctrl:e,index:0},a);s.State.fire("b"),o._s(),p._aG(l)}))},_aF(e,{pageY:t,copy:i}){let a=!1,{entity:l,subIndex:o,ctrl:p,moved:r,role:n}=e;if(r&&"stage"!=n){let e=t=>{if(t.id==l.id)a=!0;else if("layout"==t.role)for(let i of t.props.columns){for(let t of i.elements)if(e(t),a)break;if(a)break}};e(r)}if(!i&&a)return;let c=(e.layout||e.node).getBoundingClientRect(),h={left:c.left,top:c.top,width:c.width,height:c.height};if("stage"==e.role){let t=e.elements.length;return t&&(h.top+=h.height),{ctrl:e.ctrl,elements:e.elements,index:t,rect:h}}if("layout"==e.role){let s=e.index,a=s;h.top+h.height/2<t?(h.top+=h.height,s++,a++):a--;let l=e.ownerList[a];return!i&&l&&r&&l.id==r.id?null:{ctrl:e.ctrl,elements:e.ownerList,index:s,rect:h}}if("column"==e.role){let a=e.index,n=a,g=h.top+d._C>=t,_=h.top+h.height-d._C<=t;if(_?(a++,n++,h.top+=h.height):n--,g||_){let t=e.ownerList[n];return!i&&t&&r&&t.id==r.id?null:{ctrl:e.ctrl,elements:e.ownerList,index:a,rect:h}}c=e.node.getBoundingClientRect(),h={left:c.left,top:c.top,width:c.width,height:c.height},g=h.top+d._C>=t;let x,u=l.props.columns[o].elements,m=u.length;if(m){if(g?(a=0,x=u[0]):(a=m,x=u[m-1]),!i&&r&&r.id==x.id)return;c=s.node(x.id).getBoundingClientRect(),h={left:c.left,top:c.top+(g?0:c.height),width:c.width,height:c.height}}else a=0;return{elements:u,ctrl:p,index:a,rect:h}}{let s=e.index,a=s;h.top+h.height/2<t?(h.top+=h.height,s++,a++):a--;let l=e.ownerList[a];return!i&&l&&r&&l.id==r.id?null:{ctrl:e.ctrl,elements:e.ownerList,index:s,rect:h}}},_aE(e,t,i,a){let l=s.State.get("_Q"),d=s.node("stage_canvas");if((l||i)&&s.inside(t,d)){let o=s.State.get("_Z");if(t==d){let e=o[o.length-1],t=d;if(!a&&i&&e.id==i.id)return;return e&&(t=s.node(e.id)),{moved:i,elements:o,ctrl:l,role:"stage",node:t}}{let o="";do{if(o=t.getAttribute("role"),o)break;t=t.parentNode}while(t!=d);if(o){let r=t.getAttribute("column"==o?"pid":"eid"),{entity:n,pInfo:c}=p._aI(e,r);if(i&&!a&&i.id==n.id)return;n.props.locked&&(o=(t=s.node(n.id)).getAttribute("role"));let h=-1,g=null;if("column"==o)for(h=0|t.getAttribute("index"),g=t;g!=d&&"layout"!=g.getAttribute("role");)g=g.parentNode;return{ctrl:l,role:o,moved:i,subIndex:h,layout:g,entity:n,index:c.index,ownerList:c.elements,node:t}}}}return null}}})),define("designer/stage-elements",["magix","../gallery/mx-pointer/follower","./history","./stage-selection"],((e,t,i)=>{const s=e("magix"),a=e("../gallery/mx-pointer/follower"),l=e("./history"),d=e("./stage-selection");let o=(e,t)=>{let i=s.node(e);if(t||(t=1),t>5)return;if(!i)return void setTimeout(o,20,e,t++);let a=s.node("stage_outer").parentNode,l=a.getBoundingClientRect(),d={x:l.left,y:l.top,width:l.width-20,height:l.height-20};l=i.getBoundingClientRect();let p={x:l.left,y:l.top,width:l.width,height:l.height};if(!((e,t)=>{let i=e.width/2,s=e.height/2,a=t.width/2,l=t.height/2,d=e.x+i,o=e.y+s,p=t.x+a,r=t.y+l;return Math.abs(p-d)<=i+a&&Math.abs(r-o)<=s+l})(d,p)){let e=a.clientHeight/3;a.classList.add("pd-aV"),a.scrollTop=p.y+a.scrollTop-d.y-e}},p=(e,t)=>{if("id"!=e)return t};i.exports={_R(e,t){let i=e.ctrl,a=i._ac(),l={id:s.guid("e_"),role:i.role,ctrl:i,props:a};return e.elements.splice(e.index,0,l),t&&d._ad(l),l},_aC(e,t,i){let a=null,l=e=>{let s=0,d=!1;for(let o of e){if(o.id==t.id){i||e.splice(s,1,null),a=e,d=!0;break}if("layout"==o.role)for(let e of o.props.columns)if(l(e.elements),d)break;s++}},o=s.State.get("_Z");if(l(o),i){let e=JSON.stringify(t,p),i=JSON.parse(e),a=s.State.get("_N"),{elements:l}=a._8([i]);t=l[0],d._ad(t)}if(e.elements.splice(e.index,0,t),!i)for(let e=a.length;e--;)if(null===a[e]){a.splice(e,1);break}},_az(){let e=s.State.get("_Z"),t={},i={},a=(e,s,l)=>{let d=0;for(let o of e){if(t[o.id]={pId:s,index:d,elements:e,role:l},i[o.id]=o,"layout"==o.role)for(let e of o.props.columns)a(e.elements,o.id,o.role);d++}};return a(e,0,"stage"),{idMap:t,elements:i}},_aI(e,t){let{idMap:i,elements:a}=e,l=t,d=t;do{a[l].props.locked&&(d=l),l=i[l].pId}while(s.has(i,l));let o=i[d];return{entity:a[d],pInfo:o}},_aJ(e,t){let{element:i}=e.params,o=this._az(),{entity:p}=this._aI(o,i.id),r=s.State.get("_0");if(void 0!==e.button&&0!=e.button){let e=!1;for(let t of r)if(t.id===i.id){e=!0;break}return void(e||d._ad(p)&&l._s())}let n=!1;for(let e of r)p.id==e.id&&(n=!0);if(n||(d._ad(p)&&l._s(),r.length=0,r.push(p)),p.props.locked)return;let c,h=p.ctrl,g=1,_=()=>{s.State.fire("e",{pageX:c.pageX,pageY:c.pageY,clientX:c.clientX,clientY:c.clientY,copy:g,moved:p})},x=e=>{c&&(a._x(c,g=e.shiftKey),_())},u=e=>{c&&(a._x(c,g=e.shiftKey),_())};s.State.on("k",x),s.State.on("l",u),a._P(h.icon),t._w(e,(e=>{g=e.shiftKey,c=e,a._x(e,e.shiftKey),_()}),(e=>{if(a._y(),s.State.off("k",x),s.State.off("l",u),e){let t=s.node("stage_outer").parentNode,i=t.scrollTop;e.preventDefault(),s.State.fire("f"),i!=t.scrollTop&&(t.scrollTop=i)}}))},_aK(){let e=s.State.get("_0"),t=s.State.get("_Z"),i=!1;if(e.length){let a=s.toMap(e,"id"),l=e=>{for(let t,s=e.length;s--;)if(t=e[s],!t.props.locked)if(a[t.id])i=!0,e.splice(s,1);else if("layout"==t.role)for(let e of t.props.columns)l(e.elements)};l(t),i&&d._ad()}return i},_aL(e){let t=s.State.get("_0"),i=s.State.get("_Z");if(i.length){let s=t.length,a=t[0],p=null;if(0===s||s>1)p=i[e.shiftKey?i.length-1:0];else{let t=null,s=null,l=null,d=null,o=!1,r=a.id,n=e=>{for(let i of e)if(i.id==r?(o=!0,t=i):t&&!s?s=i:o?d=i:l=i,"layout"==i.role&&!i.props.locked)for(let e of i.props.columns)n(e.elements)};n(i),e.shiftKey?l?p=l:(p=i[i.length-1],"layout"==p.role&&d&&(p=d)):p=s||i[0]}a&&p.id==a.id||(d._ad(p),l._s(),o(p.id))}},_aG:o}})),define("designer/stage-selection",["magix"],((e,t,i)=>{const s=e("magix");i.exports={_ad(e){let t=s.State.get("_0"),i=t.length,a=!1;if(i||e){let l=i>1?null:t[0];t.length=0,e?(t.push(e),a=e!=l):i&&(a=!0),a&&(s.State.set({_9:s.toMap(t,"id")}),s.State.fire("m"))}return a}}})),define("designer/stage",["magix","../gallery/mx-dragdrop/index","./history","./keys","./stage-elements","./stage-selection","./stage-dragdrop"],((e,t,i)=>{const s=e("magix"),a=e("../gallery/mx-dragdrop/index"),l=e("./history"),d=e("./keys"),o=e("./stage-elements"),p=e("./stage-selection"),r=e("./stage-dragdrop");s.applyStyle("pd-e",".pd-aZ{display:flex;outline:0;position:relative}.pd-a0{padding:100px 240px}.pd-a1{background:#fff;box-shadow:0 3px 6px 0 rgba(0,0,0,.3)}@-webkit-keyframes pd-a{0%{background-position:10px 0}to{background-position:0 0}}@keyframes pd-a{0%{background-position:10px 0}to{background-position:0 0}}.pd-a2{animation:pd-a .4s linear infinite reverse;background:linear-gradient(45deg,#fa742b 25%,#fff 0,#fff 50%,#fa742b 0,#fa742b 75%,#fff 0,#fff);background-size:10px 10px;display:none;height:2px;margin-top:-1px;pointer-events:none;position:absolute;transition:all .25s,3}");let n=/^(?:input|textarea)$/i;i.exports=s.View.extend({tmpl:(e,t,i,s,a,l)=>{let d,o,p,r,n,{scale:c,page:h,layouts:g}=e;p=[];for(let e=g.length,s=0;s<e;s+=1){let e=g[s];p.push(t("div",{"mx5-owner":i,$:"layouts",class:"pd-1",id:e.id,"mx5-view":"elements/"+e.ctrl.role+"/designer?element="+l(a,e,"_."+s+".a"),"mx5-pointerdown":i+"\x1e2\x1e_aO({element:'"+l(a,e,"_."+s+".a")+"'})",role:e.ctrl.role,eid:e.id}))}return o="min-width:"+h.width+"px;min-height:"+h.height+"px;background:"+h.background+";",h.backgroundImage&&(o+="background-image:url("+h.backgroundImage+");background-repeat:"+("full"==h.backgroundRepeat?"no-repeat":h.backgroundRepeat)+";background-size:","full"==h.backgroundRepeat?o+="100% 100%":o+=h.backgroundWidth+"px "+h.backgroundHeight+"px;"),r=[t("div",{class:"pd-a1",id:"stage_canvas",style:o},p)],n=[t("div",{class:"pd-a0",style:"transform-origin:0 0;transform:scale("+c+");padding:"+100/c+"px "+240/c+"px"},r),t("div",{class:"pd-a2",id:i+"_bar"})],d=[t("div",{class:"pd-aZ",id:"stage_outer","mx5-contextmenu":i+"\x1e_A()","mx5-pointerdown":i+"\x1e_aP()",tabindex:0,"mx5-keydown":i+"\x1e_aQ()","mx5-keyup":i+"\x1e_aR()"},n)],t(i,0,d)},init(){let e,t=e=>{let t=s.State.get("_Z");e?this.digest({layouts:t}):this.set({layouts:t})},i=0,a=this.render.bind(this);s.State.on("_",a),s.State.on("c",a),s.State.on("a",a),s.State.on("b",t),s.State.on("m",t),s.State.on("e",(()=>{this._aM=1})),s.State.on("f",(()=>{this._aM=0})),s.State.on("n",(t=>{if(t.show){if(!i){i=1;let t=s.State.get("_Y");e=t.height;let a=s.node("stage_canvas");a.style.minHeight=a.scrollHeight+"px"}}else if(i){i=0,s.node("stage_canvas").style.minHeight=e+"px"}})),r._aH(this.root,this.id)},render(){let e=s.State.get("_Y"),t=s.State.get("_Z");this.digest({layouts:t,scale:s.State.get("_c"),page:e})},"_aO<pointerdown>"(e){"layout"==e.from||e._aN||o._aJ(e,this)},"_aP<pointerdown>"(e){let t=e.target;s.inside(s.node("stage_canvas"),t)&&(e.shiftKey||e.metaKey||e.ctrlKey||p._ad()&&l._s())},"$doc<keydown>"(e){this._aM||(()=>{let e=document.activeElement;return n.test(e.tagName)||e.isContentEditable})()||(e.metaKey||e.ctrlKey?e.code==d._?(e.preventDefault(),e.shiftKey?l._5():l._4()):e.code==d.e&&(e.preventDefault(),l._5()):e.code==d.d?(e.preventDefault(),o._aL(e)):e.code!=d.b&&e.code!=d.c||(e.preventDefault(),o._aK()&&(s.State.fire("b"),l._s())))},"_aQ<keydown>"(e){s.State.fire("k",e)},"_aR<keyup>"(e){s.State.fire("l",e)},"_A<contextmenu>"(e){e.preventDefault()}}).merge(a)})),define("designer/tojson",["magix"],((e,t,i)=>{const s=e("magix");let a=(e,t)=>{if(!e.startsWith("@")&&!e.startsWith("_"))return t};i.exports=()=>{let e=s.State.get("_Z"),t=s.State.get("_Y"),i=s.State.get("_N")._7(),l={unit:"px"};for(let e of i.props)e.json&&(l[e.key]=t[e.key]);let d=[],o=(e,t)=>{for(let{role:i,ctrl:s,props:a,id:l}of e){let e={id:`${l}`,role:i,props:{}};for(let t of s.props)t.json&&(t.encode?t.encode(e.props,a):t.read?e.props[t.key]=t.read(a[t.key]):e.props[t.key]=a[t.key]);if("layout"==i)for(let t of e.props.columns)if(t.elements){let e=[];o(t.elements,e),t.elements=e}t.push(e)}};o(e,d);let p={page:l,layouts:d};return JSON.stringify(p,a,2)}})),define("designer/toolbar-del",["magix","./stage-elements","./history"],((e,t,i)=>{let s,a;const l=e("magix"),d=e("./stage-elements"),o=e("./history");i.exports=l.View.extend({tmpl:(e,t,i)=>{let l,d,o,{elements:p,i18n:r}=e,n=p.length;return l=s?[s]:[s=t("i",{_:"_",class:"pd-a6"})],o=[a||(a=t(0,"\ue6b3"))],d="pd-_ pd-a4",(n<1||p[0].props.locked)&&(d+=" pd-a7"),l.push(t("i",{title:r("h")+"(Delete)","mx5-click":i+"\x1e_aS()",class:d},o)),t(i,0,l)},init(){let e=this.render.bind(this);l.State.on("_",e),l.State.on("m",e),l.State.on("o",e)},render(){this.digest({elements:l.State.get("_0")})},"_aS<click>"(e){e.eventTarget.classList.contains("@toolbar.less:toolbar-item-disabled")||d._aK()&&(l.State.fire("b"),o._s())}})})),define("designer/toolbar-do",["magix","./history"],((e,t,i)=>{let s;const a=e("magix"),l=e("./history");i.exports=a.View.extend({tmpl:(e,t,i)=>{let a,l,d,{status:o,i18n:p}=e;return d=[s||(s=t(0,"\ue682"))],l="pd-_ pd-a4",o.canUndo||(l+=" pd-a7"),a=[t("i",{title:p("i"),"mx5-click":i+"\x1e_aT({s:'-',b:"+o.canUndo+"})",class:l},d)],d=[s||(s=t(0,"\ue682"))],l="pd-_ pd-a4 pd-ah",o.canRedo||(l+=" pd-a7"),a.push(t("i",{title:p("j"),"mx5-click":i+"\x1e_aT({s:'+',b:"+o.canRedo+"})",class:l},d)),t(i,0,a)},init(){let e=this.render.bind(this);a.State.on("_",e),a.State.on("i",e)},render(){this.digest({status:l._2()})},"_aT<click>"(e){if(e.eventTarget.classList.contains("@toolbar.less:toolbar-item-disabled"))return;let{s:t,b:i}=e.params;i&&("-"==t?l._4():l._5())}})})),define("designer/toolbar-panels",["magix","../panels/index"],((e,t,i)=>{const s=e("magix"),a=e("../panels/index");i.exports=s.View.extend({tmpl:(e,t,i,s,a,l,d)=>{let o,p,r=[],{panels:n,i18n:c}=e;for(let e=n.length,s=0;s<e;s+=1){let e=n[s];p=[t(0,e.icon,1)],o="pd-_ pd-a4",e._&&(o+=" pd-a5"),r.push(t("i",{"mx5-click":i+"\x1e_ab({id:'"+d(e.id)+"'})",title:c(e._?"k":"l",e.title,s+1),class:o},p))}return t(i,0,r)},init(){s.State.on("p",(()=>{this.render()}))},render(){this.digest({panels:a._a_()})},"_ab<click>"(e){let{id:t}=e.params;a._ab(t)}})})),define("designer/toolbar-scale",["magix","./history","./keys"],((e,t,i)=>{let s,a,l={class:"pd-a8"};const d=e("magix"),o=e("./history"),p=e("./keys");let r=.5,n=.5;i.exports=d.View.extend({tmpl:(e,t,i)=>{let d,o,p,{scale:r,i18n:n}=e;return p=[s||(s=t(0,"\ue602"))],o="pd-_ pd-a4",r<=.5&&(o+=" pd-a7"),d=[t("i",{"mx5-click":i+"\x1escale({s:'-'})",title:n("zoomOut"),class:o},p)],p=[t(0,100*r+"%")],d.push(t("b",l,p)),p=[a||(a=t(0,"\ue699"))],o="pd-_ pd-a4",r>=2&&(o+=" pd-a7"),d.push(t("i",{"mx5-click":i+"\x1escale({s:'+'})",title:n("zoomIn"),class:o},p)),t(i,0,d)},init(){let e=this.render.bind(this);d.State.on("c",e),d.State.on("_",e)},render(){this.digest({scale:d.State.get("_c")})},"scale<click>"(e){let{s:t}=e.params,i=this.get("scale"),s=i;"+"==t?(i+=n,i>2&&(i=2)):(i-=n,i<r&&(i=r)),s!=i&&(d.State.set({_c:i}),d.State.fire("c",{step:i/s}),o._s())},"$doc<keydown>"(e){let t=this.get("scale"),i=t,{metaKey:s,ctrlKey:a,code:l}=e;(s||a)&&(l==p.f?(e.preventDefault(),t+=n,t>2&&(t=2)):l==p.g?(e.preventDefault(),t-=n,t<r&&(t=r)):l==p.h&&(e.preventDefault(),t=1),i!=t&&(d.State.set({_c:t}),d.State.fire("c",{step:t/i}),o._s()))}})})),define("designer/toolbar",["magix","../panels/index","./toolbar-do","./toolbar-del","./toolbar-scale","./toolbar-panels"],((e,t,i)=>{let s,a;e("./toolbar-do"),e("./toolbar-del"),e("./toolbar-scale"),e("./toolbar-panels");let l={class:"pd-C pd-Z pd-a_ pd-af"},d={class:"pd-0 pd-C pd-a_ pd-af"};const o=e("magix"),p=e("../panels/index");o.applyStyle("pd-f",".pd-a3{height:22px}.pd-a4{align-items:center;border-radius:2px;cursor:pointer;display:inline-flex;height:22px;justify-content:center;margin:0 2px;width:22px}.pd-a4:hover{background:#e6e6e6;color:#333}.pd-a5,.pd-a5:hover{background:#c4c4c4}.pd-a6{background:#eee;float:left;height:16px;margin:3px 12px;width:1px}.pd-a7{color:#aaa;cursor:not-allowed}.pd-a7:hover{background:transparent;color:#aaa}.pd-a8{display:inline-block;font-weight:400;text-align:center;width:40px}"),i.exports=o.View.extend({tmpl:(e,t,i)=>{let o,p,r,n,{allOpen:c,i18n:h}=e;return p=[t("div",{"mx5-owner":i,class:"pd-a3","mx5-view":"designer/toolbar-do"}),t("div",{"mx5-owner":i,class:"pd-a3","mx5-view":"designer/toolbar-del"})],o=[t("div",l,p)],p=[t("div",{"mx5-owner":i,class:"pd-a3","mx5-view":"designer/toolbar-scale"})],s?p.push(s):p.push(s=t("i",{_:"_",class:"pd-a6"})),p.push(t("div",{"mx5-owner":i,class:"pd-a3","mx5-view":"designer/toolbar-panels"})),s?p.push(s):p.push(s=t("i",{_:"_",class:"pd-a6"})),n=[a||(a=t(0,"\ue651"))],r="pd-_ pd-a4",c&&(r+=" pd-a5"),p.push(t("i",{"mx5-click":i+"\x1e_aU()",title:h(c?"m":"n"),class:r},n)),o.push(t("div",d,p)),t(i,0,o)},init(){let e=this.render.bind(this);o.State.on("p",e),this.on("destroy",(()=>{o.State.off("p",e)}))},render(){this.digest({allOpen:p._ag()})},"_aU<click>"(){this.get("allOpen")?p._ah():p._ai()}})}));